
const fixContentEditable={init:function(){$(".secondLvlCss").each((function(){$(this).removeAttr("contenteditable")})),$(".contentTemplates-img").each((function(){$(this).removeAttr("contenteditable")})),fixContentEditable.itemContentSpace()},itemContentSpace:()=>{const e=$(".full-width-layout .container .content .content-wrap:first-child"),t=$(".full-width-layout .container .content .content-wrap:first-child").text().length,n=$(".full-width-layout .container .content .content-wrap:last-child"),s=$(".full-width-layout .container .content .content-wrap:last-child").text().length;t<=0&&e.addClass("js_no-space"),s<=0&&n.addClass("js_no-space")}},removeEmptySlWrapper=()=>{const e=document.querySelectorAll(".content-wrap");for(let t=0;t<e.length;t++){const n=e[t],s=n.querySelector(".secondLvlCss");s&&0===s.children.length&&!s.innerHTML.trim()&&(s.parentNode.removeChild(s),n.parentNode.removeChild(n))}},blockquoteFader2={opts:function(e){return{dots:!0,fade:!0,infinite:!1,adaptiveHeight:!0,nextArrow:cpCustomElements.next(e),prevArrow:cpCustomElements.prev(e),appendArrows:e.find(".controller-js"),appendDots:e.find(".bf-dots")}},init:function(){const e=this,t=$(".blockquote-fader");t.length&&t.each((function(){const t=$(this),n=e.opts(t);$(this).find(".bf-inner").slick(n)}))}},imagesFader={opts:function(e){return{dots:!0,fade:!0,infinite:!0,adaptiveHeight:!0,nextArrow:cpCustomElements.next(e),prevArrow:cpCustomElements.prev(e),appendDots:e.find(".bf-dots"),appendArrows:e.find(".controller-js"),customPaging:function(e,t){return cpCustomElements.dots()}}},init:function(){const e=this,t=$(".images-fader-cms");t.length&&t.each((function(){const t=$(this),n=e.opts(t);$(this).find(".fader-inner").slick(n)}))}},fixRenderedHtml=()=>{const e=document.querySelectorAll(".secondLvlCss"),t=document.querySelectorAll(".contentTemplates-img"),n=document.querySelectorAll(".content-wrap .secondLvlCss"),s=document.querySelectorAll(".content-wrap"),o=document.querySelectorAll(".ckEditorLayout");null!==e&&document.querySelectorAll(".secondLvlCss").forEach((e=>{e.removeAttribute("contenteditable")})),null!==t&&t.forEach((e=>{e.removeAttribute("contenteditable")})),null!==n&&n.forEach((e=>{""===e.innerHTML.trim()&&e.parentNode.removeChild(e)})),null!==s&&s.forEach((e=>{""===e.innerHTML.trim()&&e.parentNode.removeChild(e)})),null!==o&&o.forEach((e=>{null!==e.querySelector(".admissions-functionality-wrapper")&&e.classList.add("has-admission")}))},statsTitles={init:function(){$(".stat-card").each((function(){const e=$(this),t=e.find(".stat-head").text().length;e[0].style.setProperty("--titleLength",t)}))}},customCPElements={quotes:()=>{$(".content-wrap > .secondLvlCss > blockquote").length&&$(".content-wrap > .secondLvlCss > blockquote").wrap('<div class="blockquote-container"></div>')},featuredParagraph:()=>{$(".featured-paragraph").length||$("body").addClass("no-featured-para"),$(".featuredParagraph").length&&$(".featuredParagraph").wrap('<div class="featuredParagraph-container"></div>')},carousels:()=>{const e=$(".portals-carousel, .promos-carousel");e.length&&e.each((function(){const e=$(this);if(e.data("resizer-bound"))return;e.data("resizer-bound",!0);const check=()=>{setTimeout((()=>{const t=e.find(".crsl-inner");t.length&&t.hasClass("slick-no-slide")?e.addClass("no-carousel"):e.removeClass("no-carousel")}),100)};resizer(check),check()}))},CTsWithTextIconImages:()=>{$(".ckEditorLayout-icons-text-images-widget").each(((e,t)=>{const n=$(t),s=n.find(".module-fader-text"),o=n.find(".module-fader--images-with-icons"),a=Math.max(s.length,o.length);for(let e=0;e<a;e++){const t=s.eq(e),n=o.eq(e);if(n.length){const e=n.closest(".contentTemplates-column");0===e.find("> .contentTemplates-nav").length&&e.append('\n          <div class="contentTemplates-nav">\n            <button class="crsl-ctrl swiper-button-next" type="button" aria-label="Next">\n              <span class=\'g-icon g-icon-arrow-right\'></span>\n            </button>\n            <button class="crsl-ctrl swiper-button-prev" type="button" aria-label="Previous">\n              <span class=\'g-icon g-icon-arrow-left\'></span>\n            </button>\n          </div>\n        ')}const a=n.closest(".contentTemplates-column"),i=a.length?{nextEl:a.find("> .contentTemplates-nav .swiper-button-next")[0],prevEl:a.find("> .contentTemplates-nav .swiper-button-prev")[0]}:{},r=t.closest(".contentTemplates-column"),l=r.length?r.find(".cp-dots"):"";let c=null;if(t.length&&!t.data("swiper-initialized")){const e=t.find(".module-fader-text__inner.swiper-wrapper");e.length&&e.children(".swiper-slide").length>=2&&(t.addClass("swiper"),c=new Swiper(t[0],{wrapperClass:"module-fader-text__inner",slideClass:"swiper-slide",effect:t.data("effect")||"fade",fadeEffect:{crossFade:!0},speed:parseInt(t.data("speed"),10)||500,loop:!1!==t.data("loop"),autoHeight:!1,pagination:l.length?{el:l[0],clickable:!0}:void 0,a11y:{enabled:!0}}),t.data("swiper-initialized",!0).data("swiper-instance",c))}else t.length&&(c=t.data("swiper-instance")||t[0].swiper||null);let d=null;if(n.length&&!n.data("swiper-initialized")){const e=n.find(".module-fader__inner.swiper-wrapper");e.length&&e.children(".swiper-slide").length>=2&&(n.addClass("swiper"),d=new Swiper(n[0],{wrapperClass:"module-fader__inner",slideClass:"swiper-slide",effect:n.data("effect")||"fade",fadeEffect:{crossFade:!0},speed:parseInt(n.data("speed"),10)||500,loop:!1!==n.data("loop"),watchSlidesProgress:!0,navigation:i.nextEl&&i.prevEl?i:void 0,a11y:{enabled:!0}}),n.data("swiper-initialized",!0).data("swiper-instance",d))}else n.length&&(d=n.data("swiper-instance")||n[0].swiper||null);if(c&&d){c.controller.control=d,d.controller&&(d.controller.control=c);const e=c.realIndex;d.realIndex!==e&&(d.params.loop?d.slideToLoop(e,0):d.slideTo(e,0))}}}))},CTsWithFAQsImages:()=>{$(".ckEditorLayout-images-faqs-widget").each(((e,t)=>{const n=$(t),s=n.find(".module-fader--images-faqs");for(let e=0;e<n.length;e++){const t=s.eq(e);if(t.length){const e=t.closest(".contentTemplates-column");0===e.find("> .contentTemplates-nav").length&&e.append('\n          <div class="contentTemplates-nav">\n            <button class="crsl-ctrl swiper-button-next" type="button" aria-label="Next">\n              <span class=\'g-icon g-icon-arrow-right\'></span>\n              <svg class="progress-ring" width="50" height="50">\n                <circle class="progress-ring__circle" stroke="black" stroke-width="4" fill="transparent" r="23" cx="25" cy="25"/>\n              </svg>\n            </button>\n            <button class="crsl-ctrl swiper-button-prev" type="button" aria-label="Previous">\n              <span class=\'g-icon g-icon-arrow-left\'></span>\n            </button>\n          </div>\n        ')}const o=t.closest(".contentTemplates-column"),a=o.length?{nextEl:o.find("> .contentTemplates-nav .swiper-button-next")[0],prevEl:o.find("> .contentTemplates-nav .swiper-button-prev")[0]}:{};let i=null;if(t.length&&!t.data("swiper-initialized")){const e=t.find(".module-fader__inner.swiper-wrapper");if(e.length&&e.children(".swiper-slide").length>=2){t.addClass("swiper"),i=new Swiper(t[0],{wrapperClass:"module-fader__inner",slideClass:"swiper-slide",effect:t.data("effect")||"fade",fadeEffect:{crossFade:!0},speed:parseInt(t.data("speed"),10)||500,loop:!1!==t.data("loop"),watchSlidesProgress:!0,navigation:a.nextEl&&a.prevEl?a:void 0,a11y:{enabled:!0}}),t.data("swiper-initialized",!0).data("swiper-instance",i);const e=t.attr("data-duration"),s=o.find(".progress-ring__circle"),r=23,l=2*Math.PI*r;let c,d,u=0;const setProgress=e=>{const t=l-e/100*l;s.css("stroke-dashoffset",t)},resetTimer=()=>{cancelAnimationFrame(d),setProgress(0),u=0},startTimer=(t=!1)=>{cancelAnimationFrame(d),t||(u=0),c=null,d=requestAnimationFrame((function animate(t){c||(c=t-u);const n=t-c,s=Math.min(n/e*100,100);setProgress(s),s<100?d=requestAnimationFrame(animate):(i.slideNext(),resetTimer(),startTimer())}))};i.on("slideChange",(()=>{resetTimer(),startTimer()})),i.on("touchStart",(()=>cancelAnimationFrame(d))),i.on("touchEnd",(()=>startTimer()));const p=o.find(".crsl-ctrl");let m=!1,f=!1;p.on("mouseenter",(()=>{m=!0,cancelAnimationFrame(d),c&&(u=performance.now()-c)})),p.on("mouseleave",(()=>{f||startTimer(!0),m=!1,f=!1})),p.on("click",(()=>{resetTimer(),startTimer(),m&&(f=!0)})),startTimer();const h=n.find(".accordion-container-js"),g=new MutationObserver((e=>{e.forEach((e=>{if("attributes"===e.type&&"class"===e.attributeName){const t=$(e.target);if(t.hasClass("active")){const e=h.index(t);-1!==e&&(cancelAnimationFrame(d),i.slideToLoop(e,500),resetTimer(),startTimer())}}}))}));h.each(((e,t)=>{g.observe(t,{attributes:!0})}));const openAccordionByIndex=e=>{const t=h.eq(e);if(t.length){if(t.hasClass("active"))return;h.removeClass("active").find(".accordion-dropdown-js").slideUp(150);const e=t.find(".accordion-link-js"),n=t.find(".accordion-dropdown-js");t.addClass("active"),n.stop(!0,!0).slideDown(200),e.attr("aria-expanded",!0),n.attr("aria-hidden",!1)}};i.on("slideChange",(()=>{const e=i.realIndex;openAccordionByIndex(e),resetTimer(),startTimer()}))}}else t.length&&(i=t.data("swiper-instance")||t[0].swiper||null)}}))},accordions:()=>{$(document).on("click",".accordion-link-js",(function(){const e=$(this).closest(".accordion-container-js");$(".accordion-container-js.active").not(e).each((function(){const e=$(this),t=e.find(".accordion-dropdown-js");e.removeClass("active"),t.stop(!0,!0).slideUp(150)}))}))},cpFixedMenu:()=>{if($(".cp-fixed-menu").length){null===sessionStorage.getItem("fixed_menu")&&(sessionStorage.setItem("fixed_menu","false"),$(".cp-fixed-menu").addClass("opened")),"false"===sessionStorage.getItem("fixed_menu")&&$(".cp-fixed-menu").addClass("opened"),"true"===sessionStorage.getItem("fixed_menu")&&$(".cp-fixed-menu").removeClass("opened");const e=document.querySelector(".cp-fixed-menu");let t=Array.from(e.classList);const n={attributes:!0,attributeOldValue:!0};new MutationObserver((function(n,s){for(const s of n)if("attributes"===s.type&&"class"===s.attributeName){const n=Array.from(e.classList),s=t.find((e=>!n.includes(e)));s&&"opened"===s&&sessionStorage.setItem("fixed_menu","true"),t=n}})).observe(e,n),$(document).on("click",".cp-fixed-menu .open-level-js",(()=>{setTimeout((()=>{$(".cp-fixed-menu").css("max-height",`${$(".cp-fixed-menu .fm-wrapper").get(0).scrollHeight+$(".cp-fixed-menu .fm-current-page").height()+40}px`)}),250)})),$(".cp-fixed-menu").length&&$(".cp-fixed-menu .ml-list").is(":empty")&&$(".cp-fixed-menu").remove()}},timeline:function(){const e=$(".module--timeline"),t=["center","flex-start","flex-end"],n=[];if(!e.length)return;function adjustYearTextMargin(){$(window).width()<851?$(".year__text").each((function(){const e=$(this).outerHeight()+15;$(this).css("margin-top",`-${e}px`)})):$(".year__text").removeAttr("style")}e.find(".years > .year .columns").each(((e,t)=>{$(t).append('<div aria-hidden="true" class="spacer"><span aria-hidden="true"></span></div>')})),e.find(".years > .year").each(((e,s)=>{const o=$(s).find(".column > .item");o.each(((e,s)=>{const a=o.length<3?"center":(()=>{if(t.length<1)return null;let e;do{e=t[Math.floor(Math.random()*t.length)]}while(n.length&&n[n.length-1]===e);return n.push(e),e})();s.style.setProperty("--position",a)}))})),e.find(".item.has-popup").on("click",".button",(e=>{e.preventDefault(),window.matchMedia("(hover: none)").matches&&($(e.target).attr("aria-expanded","true"===$(e.target).attr("aria-expanded")?"false":"true").toggleClass("js-active"),$(e.target).closest(".item").toggleClass("js-active"),$(window).width()<851&&$(e.target).closest(".item__inner").find(".popup-wrap").slideToggle())})),$(document).ready(adjustYearTextMargin),$(window).on("resize",adjustYearTextMargin)},init:()=>{customCPElements.cpFixedMenu(),customCPElements.featuredParagraph(),customCPElements.quotes(),customCPElements.carousels(),customCPElements.CTsWithTextIconImages(),customCPElements.CTsWithFAQsImages(),customCPElements.accordions(),customCPElements.timeline()}},handleVideoSl={muted:!0,played:!0,scrolled:!1,play:function(e){e.play(),$(".video-controls .video-control").addClass("played"),$(".video-controls .video-control").attr("title","pause")},pause:function(e){e.pause(),$(".video-controls .video-control").removeClass("played"),$(".video-controls .video-control").attr("title","play")},mute:function(e){e.muted=!0,$(".video-controls .sound-control").addClass("muted"),$(".video-controls .sound-control").attr("title","unmute")},unmute:function(e){e.muted=!1,$(".video-controls .sound-control").removeClass("muted"),$(".video-controls .sound-control").attr("title","mute")},handleScroll:function(){const e=this,t=document.getElementById("content-page-hero-video");$(window).on("scroll",(function(){$(this).scrollTop()>50?(e.pause(t),e.mute(t)):e.play(t)})),$(window).resize((function(){$(this).scrollTop()>50?(e.pause(t),e.mute(t)):e.play(t)})).resize()},handleEvents:function(){const e=this,t=document.getElementById("content-page-hero-video");$(".video-controls .sound-control").on("click",(function(){if($(this).hasClass("muted"))return e.unmute(t),!1;e.mute(t)})),$(".video-controls .video-control").on("click",(function(){if($(this).hasClass("played"))return e.pause(t),!1;e.play(t)}))},init:function(){const e=this;$(".main-hero .video-hero").length&&(e.handleScroll(),e.handleEvents())}},tickerTape={init:function(){const e=$(".module--ticker-tape");if(!e.length)return;const t=e.find(".items > .item"),n=t.length;let s=!1;t.each((function(){const e=$(this),t=e.find(".link");if("/"!==t.attr("href"))return;const n=e.find(".image").attr("src").split("?command")[0];s=!0,t.attr({href:n,"data-fancybox":"gallery"})})),s&&loadjs(["https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js","https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css"],"fancybox"),e.find(".items").marquee({duplicateCount:10,duplicated:!0,gap:0,pauseOnHover:!0,speed:70-n,startVisible:!0})}};

!function(t){t(document).ready((()=>{customElements.init(),popupsFunc.init(),alertPopup.checkStartAndExpiryDates(),noticesPopup.checkStartAndExpiryDates(),popupsBehaviour.init(),noticesPopup.init(),alertPopup.init(),noticesPopup.checkPopupTriggers(),blockquoteFader2.init(),imagesFader.init(),statsTitles.init(),customCPElements.init(),fixContentEditable.init(),removeEmptySlWrapper(),tickerTape.init(),handleVideoSl.init(),hpSection5.init(),hpSection6.init(),footer.init(),window.addEventListener("pageshow",(()=>{document.querySelector("html").classList.add("js-hide-loader")}));const e=document.querySelector("body");e.classList.contains("special-header")||e.classList.contains("media-template")||(ScrollTrigger.create({trigger:"body",start:"top+=80px top",end:"bottom top-=1000%",toggleClass:{targets:"html",className:"sticky"}}),e.classList.contains("sharedTemplates")||carouselCT.init(),ScrollTrigger.create({trigger:"body",start:()=>`top+=${window.innerHeight/2} top`,end:"bottom top",toggleClass:{targets:"html",className:"sticky-alert"}})),t(".menu-levels").on("menu-opened",(()=>{ScrollTrigger.refresh(!0)})),"undefined"!=typeof admissionsFunctionality&&admissionsFunctionality.init(),fixRenderedHtml(),loadjs([],"globalFiles",(()=>{}))}))}(jQuery),window.addEventListener("load",(()=>{document.querySelector("html").classList.add("js-hide-loader")}));