
!function(t,n){typeof exports==="object"&&typeof module!=="undefined"?module.exports=n():typeof define==="function"&&define.amd?define(n):t.Macy=n()}(this,() =>{
function t(t,n){let e=void 0;return function(){e&&clearTimeout(e),e=setTimeout(t,n)}}function n(t,n){for(var e=t.length,r=e,o=[];e--;)o.push(n(t[r-e-1]));return o}function e(t,n){const e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(window.Promise)return A(t,n,e);t.recalculate(!0,!0)}function r(t){for(var n=t.options,e=t.responsiveOptions,r=t.keys,o=t.docWidth,i=void 0,s=0;s<r.length;s++){const a=parseInt(r[s],10);o>=a&&(i=n.breakAt[a],O(i,e))}return e}function o(t){for(var n=t.options,e=t.responsiveOptions,r=t.keys,o=t.docWidth,i=void 0,s=r.length-1;s>=0;s--){const a=parseInt(r[s],10);o<=a&&(i=n.breakAt[a],O(i,e))}return e}function i(t){const n=t.useContainerForBreakpoints?t.container.clientWidth:window.innerWidth; const e={columns:t.columns};b(t.margin)?e.margin={x:t.margin.x,y:t.margin.y}:e.margin={x:t.margin,y:t.margin};const i=Object.keys(t.breakAt);return t.mobileFirst?r({options:t,responsiveOptions:e,keys:i,docWidth:n}):o({options:t,responsiveOptions:e,keys:i,docWidth:n})}function s(t){return i(t).columns}function a(t){return i(t).margin}function c(t){const n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1]; const e=s(t); let r=a(t).x; const o=100/e;if(!n)return o;if(e===1)return"100%";let i="px";if(typeof r==="string"){const c=parseFloat(r);i=r.replace(c,""),r=c}return r=(e-1)*r/e,i==="%"?`${o-r}%`:`calc(${o}% - ${r}${i})`}function u(t,n){const e=s(t.options); let r=0; let o=void 0; let i=void 0;if(++n===1)return 0;i=a(t.options).x;let u="px";if(typeof i==="string"){const l=parseFloat(i,10);u=i.replace(l,""),i=l}return o=(i-(e-1)*i/e)*(n-1),r+=c(t.options,!1)*(n-1),u==="%"?`${r+o}%`:`calc(${r}% + ${o}${u})`}function l(t){let n=0; const e=t.container; const r=t.rows;v(r,(t) =>{n=t>n?t:n}),e.style.height=`${n}px`}function p(t,n){const e=arguments.length>2&&void 0!==arguments[2]&&arguments[2]; const r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3]; const o=s(t.options); const i=a(t.options).y;M(t,o,e),v(n,(n) =>{let e=0; const o=parseInt(n.offsetHeight,10);isNaN(o)||(t.rows.forEach((n,r) =>{n<t.rows[e]&&(e=r)}),n.style.position="absolute",n.style.top=`${t.rows[e]}px`,n.style.left=`${t.cols[e]}`,t.rows[e]+=isNaN(o)?0:o+i,r&&(n.dataset.macyComplete=1))}),r&&(t.tmpRows=null),l(t)}function f(t,n){const e=arguments.length>2&&void 0!==arguments[2]&&arguments[2]; const r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3]; const o=s(t.options); const i=a(t.options).y;M(t,o,e),v(n,(n) =>{t.lastcol===o&&(t.lastcol=0);let e=C(n,"height");e=parseInt(n.offsetHeight,10),isNaN(e)||(n.style.position="absolute",n.style.top=`${t.rows[t.lastcol]}px`,n.style.left=`${t.cols[t.lastcol]}`,t.rows[t.lastcol]+=isNaN(e)?0:e+i,t.lastcol+=1,r&&(n.dataset.macyComplete=1))}),r&&(t.tmpRows=null),l(t)}const h=function t(n,e){if(!(this instanceof t))return new t(n,e);if(n&&n.nodeName)return n;if(n=n.replace(/^\s*/,"").replace(/\s*$/,""),e)return this.byCss(n,e);for(const r in this.selectors)if(e=r.split("/"),new RegExp(e[1],e[2]).test(n))return this.selectors[r](n);return this.byCss(n)};h.prototype.byCss=function(t,n){return(n||document).querySelectorAll(t)},h.prototype.selectors={},h.prototype.selectors[/^\.[\w\-]+$/]=function(t){return document.getElementsByClassName(t.substring(1))},h.prototype.selectors[/^\w+$/]=function(t){return document.getElementsByTagName(t)},h.prototype.selectors[/^\#[\w\-]+$/]=function(t){return document.getElementById(t.substring(1))};var v=function(t,n){for(let e=t.length,r=e;e--;)n(t[r-e-1])}; const m=function(){const t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.running=!1,this.events=[],this.add(t)};m.prototype.run=function(){if(!this.running&&this.events.length>0){const t=this.events.shift();this.running=!0,t(),this.running=!1,this.run()}},m.prototype.add=function(){const t=this; const n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return!!n&&(Array.isArray(n)?v(n,(n) =>t.add(n)):(this.events.push(n),void this.run()))},m.prototype.clear=function(){this.events=[]};const d=function(t){const n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.instance=t,this.data=n,this}; const y=function(){const t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.events={},this.instance=t};y.prototype.on=function(){const t=arguments.length>0&&void 0!==arguments[0]&&arguments[0]; const n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!(!t||!n)&&(Array.isArray(this.events[t])||(this.events[t]=[]),this.events[t].push(n))},y.prototype.emit=function(){const t=arguments.length>0&&void 0!==arguments[0]&&arguments[0]; const n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t||!Array.isArray(this.events[t]))return!1;const e=new d(this.instance,n);v(this.events[t],(t) =>t(e))};const g=function(t){return!("naturalHeight"in t&&t.naturalHeight+t.naturalWidth===0)||t.width+t.height!==0}; const E=function(t,n){const e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise((t,e) =>{if(n.complete)return g(n)?t(n):e(n);n.addEventListener("load",() =>g(n)?t(n):e(n)),n.addEventListener("error",() =>e(n))}).then((n) =>{e&&t.emit(t.constants.EVENT_IMAGE_LOAD,{img:n})}).catch((n) =>t.emit(t.constants.EVENT_IMAGE_ERROR,{img:n}))}; const w=function(t,e){const r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n(e,(n) =>E(t,n,r))}; var A=function(t,n){const e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Promise.all(w(t,n,e)).then(() =>{t.emit(t.constants.EVENT_IMAGE_COMPLETE)})}; const I=function(n){return t(() =>{n.emit(n.constants.EVENT_RESIZE),n.queue.add(() =>n.recalculate(!0,!0))},100)}; const N=function(t){if(t.container=h(t.options.container),t.container instanceof h||!t.container)return!!t.options.debug&&console.error("Error: Container not found");t.container.length&&(t.container=t.container[0]),t.options.container=t.container,t.container.style.position="relative"}; const T=function(t){t.queue=new m,t.events=new y(t),t.rows=[],t.resizer=I(t)}; const L=function(t){const n=h("img",t.container);window.addEventListener("resize",t.resizer),t.on(t.constants.EVENT_IMAGE_LOAD,() =>t.recalculate(!1,!1)),t.on(t.constants.EVENT_IMAGE_COMPLETE,() =>t.recalculate(!0,!0)),t.options.useOwnImageLoader||e(t,n,!t.options.waitForImages),t.emit(t.constants.EVENT_INITIALIZED)}; const _=function(t){N(t),T(t),L(t)}; var b=function(t){return t===Object(t)&&Object.prototype.toString.call(t)!=="[object Array]"}; var O=function(t,n){b(t)||(n.columns=t),b(t)&&t.columns&&(n.columns=t.columns),b(t)&&t.margin&&!b(t.margin)&&(n.margin={x:t.margin,y:t.margin}),b(t)&&t.margin&&b(t.margin)&&t.margin.x&&(n.margin.x=t.margin.x),b(t)&&t.margin&&b(t.margin)&&t.margin.y&&(n.margin.y=t.margin.y)}; var C=function(t,n){return window.getComputedStyle(t,null).getPropertyValue(n)}; var M=function(t,n){let e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t.lastcol||(t.lastcol=0),t.rows.length<1&&(e=!0),e){t.rows=[],t.cols=[],t.lastcol=0;for(var r=n-1;r>=0;r--)t.rows[r]=0,t.cols[r]=u(t,r)}else if(t.tmpRows){t.rows=[];for(var r=n-1;r>=0;r--)t.rows[r]=t.tmpRows[r]}else{t.tmpRows=[];for(var r=n-1;r>=0;r--)t.tmpRows[r]=t.rows[r]}}; const V=function(t){const n=arguments.length>1&&void 0!==arguments[1]&&arguments[1]; const e=!(arguments.length>2&&void 0!==arguments[2])||arguments[2]; let r=n?t.container.children:h(':scope > *:not([data-macy-complete="1"])',t.container);r=Array.from(r).filter((t) =>t.offsetParent!==null);const o=c(t.options);return v(r,(t) =>{n&&(t.dataset.macyComplete=0),t.style.width=o}),t.options.trueOrder?(f(t,r,n,e),t.emit(t.constants.EVENT_RECALCULATED)):(p(t,r,n,e),t.emit(t.constants.EVENT_RECALCULATED))}; const R=function(){return!!window.Promise}; const x=Object.assign||function(t){for(let n=1;n<arguments.length;n++){const e=arguments[n];for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t};Array.from||(Array.from=function(t){for(var n=0,e=[];n<t.length;)e.push(t[n++]);return e});const k={columns:4,margin:2,trueOrder:!1,waitForImages:!1,useImageLoader:!0,breakAt:{},useOwnImageLoader:!1,onInit:!1,cancelLegacy:!1,useContainerForBreakpoints:!1};!function(){try{document.createElement("a").querySelector(":scope *")}catch(t){!function(){function t(t){return function(e){if(e&&n.test(e)){const r=this.getAttribute("id");r||(this.id=`q${Math.floor(9e6*Math.random())}${1e6}`),arguments[0]=e.replace(n,`#${this.id}`);const o=t.apply(this,arguments);return r===null?this.removeAttribute("id"):r||(this.id=r),o}return t.apply(this,arguments)}}var n=/:scope\b/gi; const e=t(Element.prototype.querySelector);Element.prototype.querySelector=function(t){return e.apply(this,arguments)};const r=t(Element.prototype.querySelectorAll);Element.prototype.querySelectorAll=function(t){return r.apply(this,arguments)}}()}}();const q=function t(){const n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k;if(!(this instanceof t))return new t(n);this.options={},x(this.options,k,n),this.options.cancelLegacy&&!R()||_(this)};return q.init=function(t){return console.warn("Depreciated: Macy.init will be removed in v3.0.0 opt to use Macy directly like so Macy({ /*options here*/ }) "),new q(t)},q.prototype.recalculateOnImageLoad=function(){const t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e(this,h("img",this.container),!t)},q.prototype.runOnImageLoad=function(t){const n=arguments.length>1&&void 0!==arguments[1]&&arguments[1]; const r=h("img",this.container);return this.on(this.constants.EVENT_IMAGE_COMPLETE,t),n&&this.on(this.constants.EVENT_IMAGE_LOAD,t),e(this,r,n)},q.prototype.recalculate=function(){const t=this; const n=arguments.length>0&&void 0!==arguments[0]&&arguments[0]; const e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e&&this.queue.clear(),this.queue.add(() =>V(t,n,e))},q.prototype.remove=function(){window.removeEventListener("resize",this.resizer),v(this.container.children,(t) =>{t.removeAttribute("data-macy-complete"),t.removeAttribute("style")}),this.container.removeAttribute("style")},q.prototype.reInit=function(){this.recalculate(!0,!0),this.emit(this.constants.EVENT_INITIALIZED),window.addEventListener("resize",this.resizer),this.container.style.position="relative"},q.prototype.on=function(t,n){this.events.on(t,n)},q.prototype.emit=function(t,n){this.events.emit(t,n)},q.constants={EVENT_INITIALIZED:"macy.initialized",EVENT_RECALCULATED:"macy.recalculated",EVENT_IMAGE_LOAD:"macy.image.load",EVENT_IMAGE_ERROR:"macy.image.error",EVENT_IMAGE_COMPLETE:"macy.images.complete",EVENT_RESIZE:"macy.resize"},q.prototype.constants=q.constants,q});
const cpCustomElements={prev:function(e){return"<button class='crsl-ctrl prev prev-js' title='Previous Slide' aria-label='Previous Slide'><span class='g-icon g-icon-arrow-left'></span></button>"},next:function(e){return"<button class='crsl-ctrl next next-js' title='Next Slide' aria-label='Next Slide'><span class='g-icon g-icon-arrow-right'></span></button>"},dots:function(e,s,t){return"<button type='button' class='dots-button'><span class='active-dot'></span><span class='default-dot'></span></button>"}},optsAccordion={openSpeed:200,closeSpeed:150,type:0},carouselCallbacks={crslOpts:function(e,s){return ScrollTrigger.refresh(!0),e.hasClass("in-content-layout")?(e.hasClass("align-to-left")&&resizer((()=>{window.innerWidth<767?"rtl"!==e.find(".crsl-inner").attr("dir")&&void 0!==e.find(".crsl-inner").attr("dir")||e.find(".crsl-inner").attr("dir","ltr"):"ltr"!==e.find(".crsl-inner").attr("dir")&&void 0!==e.find(".crsl-inner").attr("dir")||e.find(".crsl-inner").attr("dir","rtl")})),{centerMode:!1,infinite:!1,variableWidth:!0,autoSlidesToShow:!0,swipeToSlide:!0,rtl:e.hasClass("align-to-left"),responsive:[{breakpoint:768,settings:{variableWidth:!0,autoSlidesToShow:!0,rtl:!1,infinite:!1,swipe:!0}}]}):e.hasClass("events-fader")?{fade:!0,infinite:!0,autoSlidesToShow:!1,variableWidth:!1,dots:!0,adaptiveHeight:!0,appendDots:e.find(".bf-dots"),customPaging:function(s,t){return cpCustomElements.dots(e)}}:{}}},mediaCallbacks={stories:{beforeAppend:function(e,s){},afterAppend:function(){ScrollTrigger.refresh(!0)},beforeRemove:function(e){},afterRemove:function(e){},options:function(e){return{TakeCount:10}},template:function(e,s,t){return sharedGenerateMediaItemHtml(s,"",!0)}},events:{afterAppend:function(e,s){ScrollTrigger.refresh(!0),e.hasClass("events-carousel")&&resizer((()=>{setTimeout((()=>{e.find(".crsl-inner").hasClass("slick-no-slide")?e.addClass("no-carousel"):e.removeClass("no-carousel")}),100)}))},options:function(e){return e.hasClass("events-carousel")||e.hasClass("events-grid")||e.hasClass("events-carousel-content-layout")?{TakeCount:20}:e.hasClass("events-list")?{TakeCount:10,IsExtended:!1}:void 0},template:function(e,s,t){return e.hasClass("events-list")?sharedEventListItem(s,t):e.hasClass("events-carousel")||e.hasClass("events-carousel-content-layout")||e.hasClass("events-grid")?sharedEventCardItem(s):e.hasClass("events-fader")?sharedEventFaderItem(s):void 0}}},othersCallbacks={staff:{afterAppend:function(e,s){ScrollTrigger.refresh(!0),e.hasClass("staff-carousel")&&resizer((()=>{setTimeout((()=>{e.find(".crsl-inner").hasClass("slick-no-slide")?e.addClass("no-carousel"):e.removeClass("no-carousel")}),100)}))},payload:function(){return{count:1}},opts:function(e){return e.hasClass("staff-grid-single")?{count:1}:{count:0}},template:function(e,s,t){return e.hasClass("staff-grid-single")?generateSingleCard(s):sharedGenerateStaff(s)}},cards:{beforeAppend:function(e,s){},afterAppend:function(e,s){if(e.hasClass("cards-grid")){let s="";switch($(e).find(".grid-widget").children().length){case 1:s="one-child";break;case 2:s="two-children";break;case 3:s="three-children";break;default:s=""}s&&e.addClass(s)}e.hasClass("cards-carousel")&&resizer((()=>{setTimeout((()=>{e.find(".crsl-inner").hasClass("slick-no-slide")?e.addClass("no-carousel"):e.removeClass("no-carousel")}),100)})),ScrollTrigger.refresh(!0)},onAppend:function(){},beforeRemove:function(e){},afterRemove:function(e){},template:function(e,s,t){}}},tableCustomOpts={reverseResponsiveLogic:!0},cpMenuLevelsCallback={callbacks:{menu:{onItemOpen:function(e){$(".menu-levels .item-js.active").not(e).find(".dropdown-js").slideUp(300),$(".menu-levels .item-js.active").not(e).removeClass("active")}}}},carouselCT={init:()=>{$(".contentTemplates .module-fader--images").each((function(){const e=$(this);e.find(".swiper-wrapper").length&&!e.data("swiper-initialized")&&(e.closest(".contentTemplates-column").append('\n            <div class="contentTemplates-nav">\n              <button class="crsl-ctrl swiper-button-next"><span class=\'g-icon g-icon-arrow-right\'></span></button>\n              <button class="crsl-ctrl swiper-button-prev"><span class=\'g-icon g-icon-arrow-left\'></span></button>\n            </div>\n        '),setTimeout((()=>{new Swiper(e[0],{loop:!0,crossFade:!0,effect:"fade",slidesPerView:1,pagination:{el:e.find(".cp-dots")[0],clickable:!0},navigation:{nextEl:e.closest(".contentTemplates-column").find(".swiper-button-next")[0],prevEl:e.closest(".contentTemplates-column").find(".swiper-button-prev")[0]}}),e.data("swiper-initialized",!0)}),0))}))}};
const eventCard='\n  <div class="event-card">\n      <div class="event-card-inner">\n          <a href="{MEDIA_URL}" class="full-link"></a>\n          <div class="event-card-image">\n              {MEDIA_IMAGE}\n              {DATE}\n          </div>\n          <div class="event-card-content">\n              <div class="ecc-inner">\n                  <div class="ecc-title">{MEDIA_TITLE}</div>\n                  <div class="ecc-time"><span class="txt">{TIME_RANGE}</span></div>\n              </div>\n          </div>\n      </div>\n  </div>\n';function sharedEventCardItem(e){return eventCard.replace(/{MEDIA_IMAGE}/g,cdnMediaHelpers.getImage(e,{size:500,template:'<img data-src="{IMAGE_URL}" alt="" class="full-image lazyload" />'})).replace(/{DATE}/g,cdnMediaHelpers.eventDate(e,mediaCustomHelpers.handleDateRangeFormat(e))).replace(/{MEDIA_TITLE}/g,mediaCustomHelpers.getMediaTitle(e).title).replace(/{MEDIA_URL}/g,cdnMediaHelpers.getFeedUrl(e)).replace(/{TIME_RANGE}/g,cdnMediaHelpers.getTimeRange(e,{startDateFormat:"HH:mm",endDateFormat:"HH:mm"}))}
const eventListTpl='\n    <div class="event-list-item {IS_EXTENDED} {HAS-IMAGE}">\n        {MEDIA_URL}\n        <div class="event-list-item-inner">\n            {DATE}\n            <span class="event-content">\n                <p class="event-title safe-wrap">{MEDIA_TITLE} </p>\n                <p class="event-time"><span>{TIME_RANGE}</span>{ICON_LINK}</p>\n            </span>\n        </div>\n    </div>';function sharedEventListItem(e){const a=e.IsExtended;return eventListTpl.replace(/{DATE}/g,cdnMediaHelpers.eventDate(e,{fullFormatMultiDay:"<div class='calendar-date {HAS_MULTI_DAY}'>{MEDIA_IMAGE}<div class='calendar-date-inner'>{START_DATE}{END_DATE}</div></div>",endDateHtml:"<div class='conn-word'>-</div><div class='end-date'><span class='day'>{DAY}</span><span class='month'>{MONTH}</span></div>"})).replace(/{IS_EXTENDED}/g,a?"is-extended":"no-extended").replace(/{MEDIA_URL}/g,a?`<a href="${cdnMediaHelpers.getFeedUrl(e)}" class="full-link"></a>`:"").replace(/{ICON_LINK}/g,a?'<span class="g-icon g-icon-arrow-right" aria-hidden="true"></span>':"").replace(/{MEDIA_TITLE}/g,mediaCustomHelpers.getMediaTitle(e).title).replace(/{MEDIA_DESCRIPTION}/g,mediaCustomHelpers.getEventDescription(e,'<div class="secondLvlCss event-description">{DESCRIPTION}</div>')).replace(/{MEDIA_URL}/g,cdnMediaHelpers.getFeedUrl(e)).replace(/{MEDIA_IMAGE}/g,cdnMediaHelpers.getImage(e,{size:380,template:'<img src="{IMAGE_URL}" alt="" class="img" loading="lazy"/>'})).replace(/{HAS-IMAGE}/g,function(e){const a=window.location.origin,n=e.Image;return n&&n!==a&&n!==`${a}/`?"hasImage":"noImage"}(e)).replace(/{TIME_RANGE}/g,cdnMediaHelpers.getTimeRange(e,{startDateFormat:"HH:mm",endDateFormat:"HH:mm"}))}
const eventFaderItem='\n<div class="event-fader-item">\n  <div class="ef-wrapper">\n    <a href="{MEDIA_URL}" class="full-link"></a>\n    <div class="image">{MEDIA_IMAGE}{DATE}</div>\n    <div class="item-content">\n      {DATE}\n      <div class="event-title"><p class="text small-text">{MEDIA_TITLE} </p></div>\n      {EVENT_COUNTDOWN}\n      <div class="view-more secondLvlCss"><a class="downloadBtn" href="{MEDIA_URL}">Learn more</a></div>\n    </div>\n  </div>\n</div>\n';function sharedEventFaderItem(e){return eventFaderItem.replace(/{MEDIA_IMAGE}/g,cdnMediaHelpers.getImage(e,{size:1024,template:"<img src='{IMAGE_URL}' width='0' height='0'/>",customDefaultSrc:"/Images/default-thumbs/Events-Default-Image-Fader.jpg"})).replace(/{DATE}/g,cdnMediaHelpers.eventDate(e,mediaCustomHelpers.handleDateRangeFormat(e))).replace(/{MEDIA_TITLE}/g,mediaCustomHelpers.getMediaTitleCountdown(e)).replace(/{MEDIA_URL}/g,cdnMediaHelpers.getFeedUrl(e)).replace(/{EVENT_COUNTDOWN}/g,mediaCustomHelpers.eventCountdown(e)).replace(/{TIME_RANGE}/g,cdnMediaHelpers.getTimeRange(e,{startDateFormat:"HH:mm",endDateFormat:"HH:mm"}))}

!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=function(t,s){return void 0===s&&(s="undefined"!=typeof window?require("jquery"):require("jquery")(t)),e(s),s}:e(jQuery)}((function(e){"use strict";var t=e(document),s=e(window),l="selectric",i=".sl",n=["a","e","i","o","u","n","c","y"],a=[/[\xE0-\xE5]/g,/[\xE8-\xEB]/g,/[\xEC-\xEF]/g,/[\xF2-\xF6]/g,/[\xF9-\xFC]/g,/[\xF1]/g,/[\xE7]/g,/[\xFD-\xFF]/g],Selectric=function(t,s){var l=this;l.element=t,l.$element=e(t),l.state={multiple:!!l.$element.attr("multiple"),enabled:!1,opened:!1,currValue:-1,selectedIdx:-1,highlightedIdx:-1},l.eventTriggers={open:l.open,close:l.close,destroy:l.destroy,refresh:l.refresh,init:l.init},l.init(s)};Selectric.prototype={utils:{isMobile:function(){var e=/android|iphone|ipad/i.test(navigator.userAgent);return e||(e=/Macintosh/.test(navigator.userAgent)&&"ontouchend"in document),e},escapeRegExp:function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},replaceDiacritics:function(e){for(var t=a.length;t--;)e=e.toLowerCase().replace(a[t],n[t]);return e},format:function(e){var t=arguments;return(""+e).replace(/\{(?:(\d+)|(\w+))\}/g,(function(e,s,l){return l&&t[1]?t[1][l]:t[s]}))},nextEnabledItem:function(e,t){for(;e[t=(t+1)%e.length].disabled;);return t},previousEnabledItem:function(e,t){for(;e[t=(t>0?t:e.length)-1].disabled;);return t},toDash:function(e){return e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()},triggerCallback:function(t,s){var l=s.element,i=s.options["on"+t],n=[l].concat([].slice.call(arguments).slice(1));e.isFunction(i)&&i.apply(l,n),e(l).trigger("selectric-"+this.toDash(t),n)},arrayToClassname:function(t){var s=e.grep(t,(function(e){return!!e}));return e.trim(s.join(" "))}},init:function(t){var s=this;if(s.options=e.extend(!0,{},e.fn.selectric.defaults,s.options,t),s.utils.triggerCallback("BeforeInit",s),s.destroy(!0),s.options.disableOnMobile&&s.utils.isMobile())s.disableOnMobile=!0;else{s.classes=s.getClassNames();var l=e("<input/>",{class:s.classes.input,readonly:s.utils.isMobile()}),i=e("<div/>",{class:s.classes.items,tabindex:-1}),n=e("<div/>",{class:s.classes.scroll}),a=e("<div/>",{class:s.classes.prefix,html:s.options.arrowButtonMarkup}),o=e("<span/>",{class:"label"}),r=s.$element.wrap("<div/>").parent().append(a.prepend(o),i,l),u=e("<div/>",{class:s.classes.hideselect});s.elements={input:l,items:i,itemsScroll:n,wrapper:a,label:o,outerWrapper:r},s.options.nativeOnMobile&&s.utils.isMobile()&&(s.elements.input=void 0,u.addClass(s.classes.prefix+"-is-native"),s.$element.on("change",(function(){s.refresh()}))),s.$element.on(s.eventTriggers).wrap(u),s.originalTabindex=s.$element.prop("tabindex"),s.$element.prop("tabindex",-1),s.populate(),s.activate(),s.utils.triggerCallback("Init",s)}},activate:function(){var e=this,t=e.elements.items.closest(":visible").children(":hidden").addClass(e.classes.tempshow),s=e.$element.width();t.removeClass(e.classes.tempshow),e.utils.triggerCallback("BeforeActivate",e),e.elements.outerWrapper.prop("class",e.utils.arrayToClassname([e.classes.wrapper,e.$element.prop("class").replace(/\S+/g,e.classes.prefix+"-$&"),e.options.responsive?e.classes.responsive:""])),e.options.inheritOriginalWidth&&s>0&&e.elements.outerWrapper.width(s),e.unbindEvents(),e.$element.prop("disabled")?(e.elements.outerWrapper.addClass(e.classes.disabled),e.elements.input&&e.elements.input.prop("disabled",!0)):(e.state.enabled=!0,e.elements.outerWrapper.removeClass(e.classes.disabled),e.$li=e.elements.items.removeAttr("style").find("li"),e.bindEvents()),e.utils.triggerCallback("Activate",e)},getClassNames:function(){var t=this,s=t.options.customClass,l={};return e.each("Input Items Open Disabled TempShow HideSelect Wrapper Focus Hover Responsive Above Below Scroll Group GroupLabel".split(" "),(function(e,i){var n=s.prefix+i;l[i.toLowerCase()]=s.camelCase?n:t.utils.toDash(n)})),l.prefix=s.prefix,l},setLabel:function(){var t=this,s=t.options.labelBuilder;if(t.state.multiple){var l=e.isArray(t.state.currValue)?t.state.currValue:[t.state.currValue];l=0===l.length?[0]:l;varl.length?[0]:l;varl.length?[0]:l;varl.length?[0]:l;var i=e.map(l,(function(s){return e.grep(t.lookupItems,(function(e){return e.index===s}))[0]}));i=e.grep(i,(function(t){return i.length>1||0===i.length?""!==e.trim(t.value):t})),i=e.map(i,(function(l){return e.isFunction(s)?s(l):t.utils.format(s,l)})),t.options.multiple.maxLabelEntries&&(i.length>=t.options.multiple.maxLabelEntries+1?(i=i.slice(0,t.options.multiple.maxLabelEntries)).push(e.isFunction(s)?s({text:"..."}):t.utils.format(s,{text:"..."})):i.slice(i.length-1)),t.elements.label.html(i.join(t.options.multiple.separator))}else{var n=t.lookupItems[t.state.currValue];t.elements.label.html(e.isFunction(s)?s(n):t.utils.format(s,n))}},populate:function(){var t=this,s=t.$element.children(),l=t.$element.find("option"),i=l.filter(":selected"),n=l.index(i),a=0,o=t.state.multiple?[]:0;i.length>1&&t.state.multiple&&(n=[],i.each((function(){n.push(e(this).index())}))),t.state.currValue=~n?n:o,t.state.selectedIdx=t.state.currValue,t.state.highlightedIdx=t.state.currValue,t.items=[],t.lookupItems=[],s.length&&(s.each((function(s){var l=e(this);if(l.is("optgroup")){var i={element:l,label:l.prop("label"),groupDisabled:l.prop("disabled"),items:[]};l.children().each((function(s){var l=e(this);i.items[s]=t.getItemData(a,l,i.groupDisabled||l.prop("disabled")),t.lookupItems[a]=i.items[s],a++})),t.items[s]=i}else t.items[s]=t.getItemData(a,l,l.prop("disabled")),t.lookupItems[a]=t.items[s],a++})),t.setLabel(),t.elements.items.append(t.elements.itemsScroll.html(t.getItemsMarkup(t.items))))},getItemData:function(t,s,l){return{index:t,element:s,value:s.val(),className:s.prop("class"),text:s.html(),slug:e.trim(this.utils.replaceDiacritics(s.html())),alt:s.attr("data-alt"),selected:s.prop("selected"),disabled:l}},getItemsMarkup:function(t){var s=this,l="<ul>";return e.isFunction(s.options.listBuilder)&&s.options.listBuilder&&(t=s.options.listBuilder(t)),e.each(t,(function(t,i){void 0!==i.label?(l+=s.utils.format('<ul class="{1}"><li class="{2}">{3}</li>',s.utils.arrayToClassname([s.classes.group,i.groupDisabled?"disabled":"",i.element.prop("class")]),s.classes.grouplabel,i.element.prop("label")),e.each(i.items,(function(e,t){l+=s.getItemMarkup(t.index,t)})),l+="</ul>"):l+=s.getItemMarkup(i.index,i)})),l+"</ul>"},getItemMarkup:function(t,s){var l=this,i=l.options.optionsItemBuilder,n={value:s.value,text:s.text,slug:s.slug,index:s.index};return l.utils.format('<li data-index="{1}" class="{2}">{3}</li>',t,l.utils.arrayToClassname([s.className,t===l.items.length-1?"last":"",s.disabled?"disabled":"",s.selected?"selected":""]),e.isFunction(i)?l.utils.format(i(s,this.$element,t),s):l.utils.format(i,n))},unbindEvents:function(){var e=this;e.elements.wrapper.add(e.$element).add(e.elements.outerWrapper).add(e.elements.input).off(i)},bindEvents:function(){var t=this;t.elements.outerWrapper.on("mouseenter.sl mouseleave.sl",(function(s){e(this).toggleClass(t.classes.hover,"mouseenter"===s.type),t.options.openOnHover&&(clearTimeout(t.closeTimer),"mouseleave"===s.type?t.closeTimer=setTimeout(e.proxy(t.close,t),t.options.hoverIntentTimeout):t.open())})),t.elements.wrapper.on("click.sl",(function(e){t.state.opened?t.close():t.open(e)})),t.options.nativeOnMobile&&t.utils.isMobile()||(t.$element.on("focus.sl",(function(){t.elements.input.focus()})),t.elements.input.prop({tabindex:t.originalTabindex,disabled:!1}).on("keydown.sl",e.proxy(t.handleKeys,t)).on("focusin.sl",(function(e){t.elements.outerWrapper.addClass(t.classes.focus),t.elements.input.one("blur",(function(){t.elements.input.blur()})),t.options.openOnFocus&&!t.state.opened&&t.open(e)})).on("focusout.sl",(function(){t.elements.outerWrapper.removeClass(t.classes.focus)})).on("input propertychange",(function(){var s=t.elements.input.val(),l=new RegExp("^"+t.utils.escapeRegExp(s),"i");clearTimeout(t.resetStr),t.resetStr=setTimeout((function(){t.elements.input.val("")}),t.options.keySearchTimeout),s.length&&e.each(t.items,(function(e,s){if(!s.disabled){if(l.test(s.text)||l.test(s.slug))return t.highlight(e),!1;if(s.alt)for(var i=s.alt.split("|"),n=0;n<i.length&&i[n];n++)if(l.test(i[n].trim()))return t.highlight(e),!1}}))}))),t.$li.on({mousedown:function(e){e.preventDefault(),e.stopPropagation()},click:function(){return t.select(e(this).data("index")),!1}})},handleKeys:function(t){var s=this,l=t.which,i=s.options.keys,n=e.inArray(l,i.previous)>-1,a=e.inArray(l,i.next)>-1,o=e.inArray(l,i.select)>-1,r=e.inArray(l,i.open)>-1,u=s.state.highlightedIdx,p=n&&0===u||a&&u+1===s.items.length,c=0;if(13!==l&&32!==l||t.preventDefault(),n||a){if(!s.options.allowWrap&&p)return;n&&(c=s.utils.previousEnabledItem(s.lookupItems,u)),a&&(c=s.utils.nextEnabledItem(s.lookupItems,u)),s.highlight(c)}if(o&&s.state.opened)return s.select(u),void(s.state.multiple&&s.options.multiple.keepMenuOpen||s.close());r&&!s.state.opened&&s.open()},refresh:function(){var e=this;e.populate(),e.activate(),e.utils.triggerCallback("Refresh",e)},setOptionsDimensions:function(){var e=this,t=e.elements.items.closest(":visible").children(":hidden").addClass(e.classes.tempshow),s=e.options.maxHeight,l=e.elements.items.outerWidth(),i=e.elements.wrapper.outerWidth()-(l-e.elements.items.width());!e.options.expandToItemText||i>l?e.finalWidth=i:(e.elements.items.css("overflow","scroll"),e.elements.outerWrapper.width(9e4),e.finalWidth=e.elements.items.width(),e.elements.items.css("overflow",""),e.elements.outerWrapper.width("")),e.elements.items.width(e.finalWidth).height()>s&&e.elements.items.height(s),t.removeClass(e.classes.tempshow)},isInViewport:function(){var e=this;if(!0===e.options.forceRenderAbove)e.elements.outerWrapper.addClass(e.classes.above);else if(!0===e.options.forceRenderBelow)e.elements.outerWrapper.addClass(e.classes.below);else{var t=s.scrollTop(),l=s.height(),i=e.elements.outerWrapper.offset().top,n=i+e.elements.outerWrapper.outerHeight()+e.itemsHeight<=t+l,a=i-e.itemsHeight>t,o=!n&&a,r=!o;e.elements.outerWrapper.toggleClass(e.classes.above,o),e.elements.outerWrapper.toggleClass(e.classes.below,r)}},detectItemVisibility:function(t){var s=this,l=s.$li.filter("[data-index]");s.state.multiple&&(t=e.isArray(t)&&0===t.length?0:t,t=e.isArray(t)?Math.min.apply(Math,t):t);var i=l.eq(t).outerHeight(),n=l[t].offsetTop,a=s.elements.itemsScroll.scrollTop(),o=n+2*i;s.elements.itemsScroll.scrollTop(o>a+s.itemsHeight?o-s.itemsHeight:n-i<a?n-i:a)},open:function(s){var l=this;if(l.options.nativeOnMobile&&l.utils.isMobile())return!1;l.utils.triggerCallback("BeforeOpen",l),s&&(s.preventDefault(),l.options.stopPropagation&&s.stopPropagation()),l.state.enabled&&(l.setOptionsDimensions(),e("."+l.classes.hideselect,"."+l.classes.open).children().selectric("close"),l.state.opened=!0,l.itemsHeight=l.elements.items.outerHeight(),l.itemsInnerHeight=l.elements.items.height(),l.elements.outerWrapper.addClass(l.classes.open),l.elements.input.val(""),s&&"focusin"!==s.type&&l.elements.input.focus(),setTimeout((function(){t.on("click.sl",e.proxy(l.close,l)).on("scroll.sl",e.proxy(l.isInViewport,l))}),1),l.isInViewport(),l.options.preventWindowScroll&&t.on("mousewheel.sl DOMMouseScroll.sl","."+l.classes.scroll,(function(t){var s=t.originalEvent,i=e(this).scrollTop(),n=0;"detail"in s&&(n=-1*s.detail),"wheelDelta"in s&&(n=s.wheelDelta),"wheelDeltaY"in s&&(n=s.wheelDeltaY),"deltaY"in s&&(n=-1*s.deltaY),(i===this.scrollHeight-l.itemsInnerHeight&&n<0||0===i&&n>0)&&t.preventDefault()})),l.detectItemVisibility(l.state.selectedIdx),l.highlight(l.state.multiple?-1:l.state.selectedIdx),l.utils.triggerCallback("Open",l))},close:function(){var e=this;e.utils.triggerCallback("BeforeClose",e),t.off(i),e.elements.outerWrapper.removeClass(e.classes.open),e.state.opened=!1,e.utils.triggerCallback("Close",e)},change:function(){var t=this;t.utils.triggerCallback("BeforeChange",t),t.state.multiple?(e.each(t.lookupItems,(function(e){t.lookupItems[e].selected=!1,t.$element.find("option").prop("selected",!1)})),e.each(t.state.selectedIdx,(function(e,s){t.lookupItems[s].selected=!0,t.$element.find("option").eq(s).prop("selected",!0)})),t.state.currValue=t.state.selectedIdx,t.setLabel(),t.utils.triggerCallback("Change",t)):t.state.currValue!==t.state.selectedIdx&&(t.$element.prop("selectedIndex",t.state.currValue=t.state.selectedIdx).data("value",t.lookupItems[t.state.selectedIdx].text),t.setLabel(),t.utils.triggerCallback("Change",t))},highlight:function(e){var t=this,s=t.$li.filter("[data-index]").removeClass("highlighted");t.utils.triggerCallback("BeforeHighlight",t),void 0===e||-1===e||t.lookupItems[e].disabled||(s.eq(t.state.highlightedIdx=e).addClass("highlighted"),t.detectItemVisibility(e),t.utils.triggerCallback("Highlight",t))},select:function(t){var s=this,l=s.$li.filter("[data-index]");if(s.utils.triggerCallback("BeforeSelect",s,t),void 0!==t&&-1!==t&&!s.lookupItems[t].disabled){if(s.state.multiple){s.state.selectedIdx=e.isArray(s.state.selectedIdx)?s.state.selectedIdx:[s.state.selectedIdx];var i=e.inArray(t,s.state.selectedIdx);-1!==i?s.state.selectedIdx.splice(i,1):s.state.selectedIdx.push(t),l.removeClass("selected").filter((function(t){return-1!==e.inArray(t,s.state.selectedIdx)})).addClass("selected")}else l.removeClass("selected").eq(s.state.selectedIdx=t).addClass("selected");s.state.multiple&&s.options.multiple.keepMenuOpen||s.close(),s.change(),s.utils.triggerCallback("Select",s,t)}},destroy:function(e){var t=this;t.state&&t.state.enabled&&(t.elements.items.add(t.elements.wrapper).add(t.elements.input).remove(),e||t.$element.removeData(l).removeData("value"),t.$element.prop("tabindex",t.originalTabindex).off(i).off(t.eventTriggers).unwrap().unwrap(),t.state.enabled=!1)}},e.fn.selectric=function(t){return this.each((function(){var s=e.data(this,l);s&&!s.disableOnMobile?"string"==typeof t&&s[t]?s[t]():s.init(t):e.data(this,l,new Selectric(this,t))}))},e.fn.selectric.defaults={onChange:function(t){e(t).change()},maxHeight:300,keySearchTimeout:500,arrowButtonMarkup:'<b class="button">&#x25be;</b>',disableOnMobile:!1,nativeOnMobile:!0,openOnFocus:!0,openOnHover:!1,hoverIntentTimeout:500,expandToItemText:!1,responsive:!1,preventWindowScroll:!0,inheritOriginalWidth:!1,allowWrap:!0,forceRenderAbove:!1,forceRenderBelow:!1,stopPropagation:!0,optionsItemBuilder:"{text}",labelBuilder:"{text}",listBuilder:!1,keys:{previous:[37,38],next:[39,40],select:[9,13,27],open:[13,32,37,38,39,40],close:[9,27]},customClass:{prefix:l,camelCase:!1},multiple:{separator:", ",keepMenuOpen:!0,maxLabelEntries:!1}}}));
class ISFilteredGrid{constructor(e){this.defaults={$selector:"",dataSource:"",cardGenerationFunction:"",filteringFields:[],filterNames:[],searchingFields:[],sortingField:"[]",sortOnLoad:!1,itemsOnPage:{0:4,500:6,1250:9},randomize:"just first time",usePageIdForApi:!0,onlyImported:!1,scrollToTopWhenNavigate:!1},Object.assign(this.defaults,e),this.filteredJson=[],this.originalJson=[],this.currentPage=1,this.totalPages=1,this.filters={alphabetically:null,searchTag:""},this.currItemsOnPage=-1,this.prevItemsOnPage=-1,this.didValuesChanged=!1,this.availableOptions={},this.filterTagHtml="<li class='ISFilteredGrid__tag'><span>{tag_name}</span><button title='Delete this tag' data-index='{tag_index}'></button></li>",this.searchTags=[],this.searchFunctionality=!1,this.firstInit=!0,this.isDebug=window.location.search.includes("isDebug"),this.html={dropdown:'<div class="ISFilteredGrid__filterBy isSelectWrapper js-{field}">\n                   <select name="{field}" id="{field}" aria-label="Select {field}" multiple title="Filter by {field}"></select>\n                 <ul class="ISFilteredGrid__tagWrapper"></ul>\n                 </div>'},this.init()}init(){if(this.isDebug,"undefined"!=typeof ISGeneralService){new ISGeneralService({type:this.defaults.dataSource},{PageID:"undefined"!=typeof ISWebsiteInformation&&void 0!==ISWebsiteInformation.pageId&&this.defaults.usePageIdForApi?ISWebsiteInformation.pageId:0,OnlyImported:this.defaults.onlyImported}).init((e=>{this.isDebug,e.length>0&&(this.originalJson="just first time"===this.defaults.randomize?ISFilteredGridHelpers.randomizeArray(e):e,this.initDropdowns(),this.defaults.$selector.find(".ISGridSearch").length>0&&(this.searchFunctionality=!0,this.initSearch()),this.setSortingStateOnLoad(),this.setItemsOnPage(!1),this.getFilteredJson(),this.generateStaff(),this.generatePagination(),this.paginationNav(),this.filterClickEvents(),this.isDebug,$(".ISFilteredGrid").on("filterChanged",((e,t)=>{this.firstInit=!1,"resetCurrentPage"===t&&(this.currentPage=1),this.getFilteredJson(),this.generateStaff(),this.generatePagination(),this.handleDisablingArrows(),this.getAvailableOptions(),this.updateOptions()})),onResizeMethods((()=>{this.setItemsOnPage(!0)})))}))}}generateStaff(e,t=!1){var i=(e=void 0!==e?e:0)+this.currItemsOnPage<this.filteredJson.length?e+this.currItemsOnPage:this.filteredJson.length,s="",r=this.defaults.$selector.find(".ISFilteredGrid__content");r.html(""),this.defaults.$selector.removeClass("noResults");for(var a=e;a<i;a++)s+=window[this.defaults.cardGenerationFunction](this.filteredJson[a]);0===s.length&&(s+='\n        <div class="ISFilteredGrid__noResults">\n          <h2>No Profiles Match Your Filters</h2>\n          <p>We are sorry that your search didn\'t find any results. Please clear the filters and try again.</p>\n        </div>\n      ',this.defaults.$selector.addClass("noResults")),r.append(s),this.defaults.scrollToTopWhenNavigate&&t&&(clearTimeout(this.myTimeout),this.myTimeout=setTimeout((function(){$("html, body").animate({scrollTop:$(".ISFilteredGrid__filters").offset().top},400)}),400))}generatePagination(){let e=this.defaults.$selector;this.totalPages=Math.ceil(this.filteredJson.length/this.currItemsOnPage),e.find(".js-currentPage").val("1"),this.totalPages>1?(e.find(".js-totalPages").text(this.totalPages),e.find(".js-currentPage").attr("max",this.totalPages),e.find(".ISFilteredGrid__pagination").addClass("isVisible").find(" fieldset").append("<p class='ISFilteredGrid__paginationErrorMessage'>Please enter a number between 1 and "+this.totalPages+"</p>")):(e.find(".ISFilteredGrid__pagination").removeClass("isVisible"),e.find(".ISFilteredGrid__paginationErrorMessage").remove())}paginationNav(){let e=this.defaults.$selector,t=this;e.find(".ISFilteredGrid__nextPage").on("click",(()=>{this.currentPage<this.totalPages&&(this.currentPage++,e.find(".js-currentPage").val(this.currentPage),this.generateStaff(getStartingIndex(),!0),this.handleDisablingArrows())})),e.find(".ISFilteredGrid__prevPage").on("click",(()=>{this.currentPage>1&&(this.currentPage--,e.find(".js-currentPage").val(this.currentPage),this.generateStaff(getStartingIndex(),!0),this.handleDisablingArrows())}));var i,s=0;function getStartingIndex(){return t.currentPage*t.currItemsOnPage-t.currItemsOnPage}e.find(".js-currentPage").each((function(){let r=$(this);r.keyup((a=>{s=r.val(),clearTimeout(i),r.siblings(".ISFilteredGrid__paginationErrorMessage").removeClass("isVisible"),r.removeClass("warning"),!isNaN(s)&&s>=1&&s<=t.totalPages?13===a.which&&(r.removeClass("warning"),r.siblings(".ISFilteredGrid__paginationErrorMessage").removeClass("isVisible"),t.currentPage=parseInt(s),e.find(".js-currentPage").val(s),t.generateStaff(getStartingIndex(),!0),t.handleDisablingArrows.apply(t)):(r.addClass("warning"),r.siblings(".ISFilteredGrid__paginationErrorMessage").addClass("isVisible"),i=setTimeout((function(){r.siblings(".ISFilteredGrid__paginationErrorMessage").removeClass("isVisible")}),3e3))}))})),this.handleDisablingArrows()}handleDisablingArrows(){let e=this.defaults.$selector;var t=e.find(".ISFilteredGrid__prevPage"),i=e.find(".ISFilteredGrid__nextPage");switch(this.currentPage){case 1:t.addClass("isDisabled"),i.removeClass("isDisabled");break;case this.totalPages:t.removeClass("isDisabled"),i.addClass("isDisabled");break;default:t.removeClass("isDisabled"),i.removeClass("isDisabled")}}setSortingStateOnLoad(){const e=this.defaults.sortOnLoad;var t=this.defaults.$selector.find(".js-sortAlphabetically");if(!1===e||"ascending"===e||"descending"===e)switch(this.filters.alphabetically=!1===e?null:e,this.filters.alphabetically){case"ascending":t.addClass("ascendingOrder filterActive").find("span").text("A-Z");break;case"descending":t.addClass("descendingOrder filterActive").find("span").text("Z-A")}}filterClickEvents(){let e=this.defaults.$selector;var t=e.find(".js-sortAlphabetically"),i=this;function resetSortButton(){t.removeClass("ascendingOrder descendingOrder filterActive").find("span").text("A-Z"),i.filters.alphabetically=null}t.on("click",(()=>{switch(this.filters.alphabetically){case null:t.addClass("ascendingOrder filterActive").removeClass("descendingOrder"),this.filters.alphabetically="ascending";break;case"ascending":t.addClass("descendingOrder filterActive").removeClass("ascendingOrder").find("span").text("Z-A"),this.filters.alphabetically="descending";break;case"descending":resetSortButton()}e.trigger("filterChanged")})),e.find(".js-clearFilters").on("click",(()=>{resetSortButton(),this.removeTags(),this.resetAllDropdowns()}))}getFilteredJson(){var e=!0,t=this;function filterBy(i,s){e&&0!==typeof i[s]&&null!==t.filters[s]&&t.filters[s].length>0&&(e=ISFilteredGridHelpers.findCommonElement(i[s],t.filters[s])),0===i[s].length&&null!==t.filters[s]&&t.filters[s].length>0&&(e=!1)}function findMatchesInArrays(e,i){if(null!==e[i])for(var s=0;s<e[i].length;s++)if(null!==e[i][s].match(new RegExp("\\b"+t.filters.searchTag.toLowerCase()+"\\w*","gi")))return!0;return!1}function findMatchesInStrings(e,i){return void 0!==e[i]&&null!==e[i]&&null!==e[i].match(new RegExp("\\b"+t.filters.searchTag.toLowerCase()+"\\w*","gi"))}this.filteredJson=this.originalJson.filter(((i,s)=>{e=!0;for(var r=0;r<this.defaults.filteringFields.length;r++)filterBy(i,this.defaults.filteringFields[r]);return this.searchFunctionality&&function(i){var s=!1;if(e&&t.filters.searchTag.length>0){for(let e of t.defaults.searchingFields)if("string"==typeof i[e]&&(s=findMatchesInStrings(i,e)),"object"==typeof i[e]&&(s=findMatchesInArrays(i,e)),s)break;e=s}}(i),e})),this.sortAlphabetically()}sortAlphabetically(){switch(this.filters.alphabetically){case null:!0===this.defaults.randomize&&(this.filteredJson=ISFilteredGridHelpers.randomizeArray(this.filteredJson));break;case"ascending":this.filteredJson.sort(((e,t)=>compareStrings(e[this.defaults.sortingField],t[this.defaults.sortingField])));break;case"descending":this.filteredJson.sort(((e,t)=>-1*compareStrings(e[this.defaults.sortingField],t[this.defaults.sortingField])))}function compareStrings(e,t){return(e=0===e.length?"zzz":e.toLowerCase())<(t=0===t.length?"zzz":t.toLowerCase())?-1:e>t?1:0}}setItemsOnPage(e){let t=this.defaults.itemsOnPage;Object.keys(this.defaults.itemsOnPage).forEach((e=>{cdnGeneralHelpers.getWindowWidth()>e&&(this.currItemsOnPage=t[e])})),this.currItemsOnPage!==this.prevItemsOnPage&&(this.prevItemsOnPage=this.currItemsOnPage,e&&this.defaults.$selector.trigger("filterChanged"))}initDropdowns(){this.getUniqueOptions(),this.appendDropdowns(),this.appendOptions(),this.initSelectric(),this.removeTag(),this.handleNativeSelectOnMobile()}initSelectric(){let e=this.defaults.$selector;var t=e.find("select"),i=this;"function"==typeof t.selectric&&t.selectric({disableOnMobile:!1,nativeOnMobile:!1,expandToItemText:!0,arrowButtonMarkup:'<i class="ISFilteredGrid__filterIcon"></i>',maxHeight:cdnGeneralHelpers.getWindowHeight()>800?400:300,onChange:function(e,t){i.didValuesChanged=!0;for(var s=0;s<i.defaults.filteringFields.length;s++)$(".js-"+i.defaults.filteringFields[s]+" .selectric .label").text(i.defaults.filterNames[s]);i.updateGrid($(this),t,e),$(e).selectric("close")},onRefresh:function(e){for(var t=0;t<i.defaults.filteringFields.length;t++)$(".js-"+i.defaults.filteringFields[t]+" .selectric .label").text(i.defaults.filterNames[t])},onBeforeClose:function(e,t){},onBeforeOpen:function(e,t){},onInit:function(){e.find(".selectric-input").attr("readonly",!0);for(var t=0;t<i.defaults.filteringFields.length;t++)$(".js-"+i.defaults.filteringFields[t]+" .selectric .label").text(i.defaults.filterNames[t])}})}removeTag(){var e,t=this;$(".ISFilteredGrid__filterBy").on("click",".ISFilteredGrid__tag button",(function(){e=$(this).attr("data-index"),$(this).parents(".ISFilteredGrid__filterBy").find(".selectric-items li").eq(e).trigger("click"),$(this).parent().remove();for(var i=0;i<t.defaults.filteringFields.length;i++)t.filters[t.defaults.filteringFields[i]]=$("#"+t.defaults.filteringFields[i]).val();$(".ISFilteredGrid").trigger("filterChanged",["resetCurrentPage"])}))}updateGrid(e,t,i){var s=e.val(),r="",a=e.parents(".ISFilteredGrid__filterBy").find(".ISFilteredGrid__tagWrapper");if(null!==s){a.empty();for(var l=0;l<s.length;l++)r+=this.filterTagHtml.replace(/{tag_name}/g,s[l]).replace(/{tag_index}/g,$(i).find('option[value="'+s[l]+'"]').index());a.addClass("isVisible").append(r)}else a.removeClass("isVisible").find(".ISFilteredGrid__tag").remove();if(this.didValuesChanged){for(l=0;l<this.defaults.filteringFields.length;l++)this.filters[this.defaults.filteringFields[l]]=$("#"+this.defaults.filteringFields[l]).val();$(".ISFilteredGrid").trigger("filterChanged",["resetCurrentPage"])}this.didValuesChanged=!1}handleNativeSelectOnMobile(){var e=this;$(".ISFilteredGrid select").on("change",(function(t,i,s){e.didValuesChanged=!0,e.updateGrid($(this))}))}getUniqueOptions(){var e=this.originalJson,t="",i=this;let s;for(var r=0;r<this.defaults.filteringFields.length;r++)populateFilterValues(this.defaults.filteringFields[r]);function populateFilterValues(r){i[r]=[],i.filters[r]=[];for(var a=0;a<e.length;a++){if(s=e[a][r],null!==s&&"object"==typeof s)for(var l=0;l<s.length;l++)null===(t=s[l])||ISFilteredGridHelpers.isInArray(t,i[r])||i[r].push(t);null!==s&&"string"==typeof s&&null!==s&&s.trim().length>0&&!ISFilteredGridHelpers.isInArray(s,i[r])&&i[r].push(s)}}}appendDropdowns(){let e="";for(let t=0;t<this.defaults.filteringFields.length;t++)e+=this.html.dropdown.replace(/{field}/g,this.defaults.filteringFields[t]);$(e).insertBefore(this.defaults.$selector.find(".filteringStaffGrid__filtersPlaceholder")),this.defaults.$selector.find(".filteringStaffGrid__filtersPlaceholder").remove()}appendOptions(){for(var e="",t=0;t<this.defaults.filteringFields.length;t++){this[this.defaults.filteringFields[t]].sort((function(e,t){return-1!==e.indexOf("Week")?(i=parseInt(e.replace(/^\D+/g,"")),s=parseInt(t.replace(/^\D+/g,"")),i<s?-1:i>s?1:0):compareStrings(e,t);var i,s}));for(var i=0;i<this[this.defaults.filteringFields[t]].length;i++)e+='<option value="'+this[this.defaults.filteringFields[t]][i]+'">'+this[this.defaults.filteringFields[t]][i]+"</option>";$("#"+this.defaults.filteringFields[t]).append(e),e=""}function compareStrings(e,t){return(e=e.toLowerCase())<(t=t.toLowerCase())?-1:e>t?1:0}}getAvailableOptions(){var e=this.filteredJson,t="",i=this;let s;for(var r=0;r<this.defaults.filteringFields.length;r++)populateFilterValues(this.defaults.filteringFields[r]);function populateFilterValues(r){i.availableOptions[r]=[];for(var a=0;a<e.length;a++){if(s=e[a][r],null!==s&&"object"==typeof s)for(var l=0;l<s.length;l++)null===(t=s[l])||ISFilteredGridHelpers.isInArray(t,i.availableOptions[r])||i.availableOptions[r].push(t);null!==s&&"string"==typeof s&&(null===s||ISFilteredGridHelpers.isInArray(s,i.availableOptions[r])||i.availableOptions[r].push(s))}}}updateOptions(){var e=this;Object.keys(this.availableOptions).forEach((t=>{$("#"+t+" option").each((function(){ISFilteredGridHelpers.isInArray($(this).attr("value"),e.availableOptions[t])?$(this).attr("disabled",!1):$(this)[0].selected||$(this).attr("disabled",!0)}))})),e.defaults.$selector.find("select").selectric("refresh")}resetAllDropdowns(){for(var e,t=0;t<this.defaults.filteringFields.length;t++)(e=$("#"+this.defaults.filteringFields[t])).val(""),e.find("option").each((function(){$(this).attr("disabled",!1)})),this.filters[this.defaults.filteringFields[t]]=e.val(),e.selectric("refresh");this.defaults.$selector.find(".ISFilteredGrid__tag").remove(),this.defaults.$selector.trigger("filterChanged",["resetCurrentPage"]),this.didValuesChanged=!1}initSearch(){this.core(),this.clickEvents()}core(){var e,t,i=this;i.$form=i.defaults.$selector.find(".ISGridSearch"),i.$input=i.defaults.$selector.find(".ISGridSearch input"),i.$suggestionsList=i.defaults.$selector.find(".ISGridSearch__suggestions"),i.$errorMessage=i.defaults.$selector.find(".ISGridSearch__errorMessage"),i.$resetButton=i.defaults.$selector.find(".ISGridSearch__reset"),i.$submitButton=i.defaults.$selector.find(".ISGridSearch__submit"),i.$loader=i.defaults.$selector.find(".ISGridSearch__loader"),i.$termsBox=i.defaults.$selector.find(".ISGridSearch__searchTerms"),i.debounceTimeout=null,i.$input.keyup((function(s){(e=$(this).val().toLowerCase()).length>0?(i.$errorMessage.html("No matches found"),i.$resetButton.addClass("isVisible"),i.$submitButton.addClass("isHidden"),i.$loader.addClass("isVisible"),i.$form.removeClass("noMatches"),i.$errorMessage.removeClass("isVisible"),i.debounceType((function(){t=i.getSuggestions(e),i.$loader.removeClass("isVisible"),t.length>0?i.renderSuggestions(t,e):function(e){ISFilteredGridHelpers.isInArray(e,i.searchTags)&&i.$errorMessage.html("already added");i.$form.addClass("noMatches"),i.$errorMessage.addClass("isVisible"),i.$suggestionsList.html("")}(e),0===e.length&&i.reset()}),500,$(this))):i.reset()}))}reset(){this.$form.removeClass("noMatches"),this.$input.val("").attr("placeholder","Search"),this.$loader.removeClass("isVisible"),this.$resetButton.removeClass("isVisible"),this.$submitButton.removeClass("isHidden"),this.$errorMessage.removeClass("isVisible"),this.$suggestionsList.html("")}debounceType(e,t,i){var s=this;return clearTimeout(s.debounceTimeout),void(s.debounceTimeout=setTimeout((function(){s.debounceTimeout=null,e.apply(i)}),t))}clickEvents(){var e=this;e.$resetButton.on("click",(function(t){return t.preventDefault(),e.reset(),!1})),e.$submitButton.on("click",(function(){var t=e.$input.val();t.length>0&&!e.$form.hasClass("noMatches")&&!ISFilteredGridHelpers.isInArray(t,e.searchTags)&&(e.submitSearchString(t),e.reset())})),e.$form.on("click",".ISGridSearch__suggestions li",(function(){e.submitSearchString($(this).attr("data-word")),e.reset()})),e.$form.on("click",".ISFilteredGrid__tag button",(function(){e.removeTags(),$(".ISFilteredGrid").trigger("filterChanged",["resetCurrentPage"])}))}submitSearchString(e){this.$suggestionsList.empty(),this.filters.searchTag=e,this.$termsBox.html(""),this.$termsBox.append(this.filterTagHtml.replace(/{tag_name}/g,e)),this.defaults.$selector.trigger("filterChanged",["resetCurrentPage"])}getSuggestions(e){this.json=[],this.results=[];var t,i=this;return i.json=i.filteredJson.filter((function(s,r){i.matchFound=!1;for(var a=0;a<i.defaults.searchingFields.length;a++)"string"==typeof s[t=i.defaults.searchingFields[a]]&&searchInStrings(s,e,t),"object"==typeof s[t]&&searchInArrays(s,e,t);return i.matchFound})),this.results;function searchInStrings(e,t,s){var r;null!==e[s]&&null!==(r=e[s].match(new RegExp("\\b"+t+"\\w*","gi")))&&(i.matchFound=!0,addSuggestionCandidate(r[0]))}function searchInArrays(e,t,s){var r;if(null!==e[s])for(var a=0;a<e[s].length;a++)null!==(r=e[s][a].match(new RegExp("\\b"+t+"\\w*","gi")))&&(i.matchFound=!0,addSuggestionCandidate(r[0]))}function addSuggestionCandidate(e){null!==e&&(ISFilteredGridHelpers.isInArray(e,i.results)||ISFilteredGridHelpers.isInArray(e,i.searchTags)||i.results.push(e))}}renderSuggestions(e,t){var i=this;this.$suggestionsList.html(""),$.each(i.results,(function(s,r){i.$suggestionsList.append("<li data-word='"+e[s]+"' title='search by "+e[s]+" tag'>"+e[s].replace(t,"<b>"+t+"</b>")+"</li>")}))}removeTags(){this.filters.searchTag="",this.$form.find(".ISFilteredGrid__tag").remove()}}const ISFilteredGridHelpers={isInArray:function(e,t){var i=!1;if(t.length>0)for(var s=0;s<t.length;s++)t[s].toLowerCase()===e.toLowerCase()&&(i=!0);return i},findCommonElement:function(e,t){for(var i=[e].flat(),s=0;s<i.length;s++)for(var r=0;r<t.length;r++)if(i[s].toLowerCase()===t[r].toLowerCase())return!0;return!1},randomizeArray:function(e){for(var t,i,s=e.length;0!==s;)i=Math.floor(Math.random()*s),t=e[s-=1],e[s]=e[i],e[i]=t;return e}};function onResizeMethods(e){if($("html").hasClass("no-touch"))$(window).smartresize(e);else if(cdnGeneralHelpers.isMobile.iOS())$(window).on("orientationchange",e);else{var t=cdnGeneralHelpers.getWindowWidth();$(window).smartresize((function(){t!==cdnGeneralHelpers.getWindowWidth()&&(t=cdnGeneralHelpers.getWindowWidth(),e())}))}}!function(e,t){jQuery.fn[t]=function(e){return e?this.bind("resize",(i=e,function(){var e=this,t=arguments;function delayed(){r||i.apply(e,t),a=null}a?clearTimeout(a):r&&i.apply(e,t),a=setTimeout(delayed,s||80)})):this.trigger(t);var i,s,r,a}}(jQuery,"smartresize"),$(".ISFilteredGrid").each((function(){new ISFilteredGrid({...JSON.parse($(this).attr("data-options")),$selector:$(this)})}));
var cpHelpers={handleUndefined:function(n,e){return void 0!==n?n:e},checkCallback:function(n){return void 0!==n&&"function"==typeof n&&n(),void 0!==n&&"function"!=typeof n&&n}};
var customTimer={options:{},resetProgressBar:function(){var e=this.options;clearTimeout(e.tick),clearInterval(e.tick)},startProgressBar:function(){var e=this,t=e.options;e.resetProgressBar(),t.percentTime=0,t.tick=setInterval((function(){e.interval(e,t.callback)}),10)},interval:function(e){var t=e,n=t.options;t.isPause||(n.percentTime+=1/(n.time+.1)/100,n.percentTime>=1&&(t.resetProgressBar(),n.callback(),t.startProgressBar()))},restart:function(){this.resetProgressBar(),this.startProgressBar()},pause:function(){this.options.isPause=!0},resumeFromPause:function(){this.options.isPause=!1},destroy:function(){var e=this.options;clearTimeout(e.tick),clearInterval(e.tick)},init:function(e){var t=this;t.options=$.extend({time:5,tick:0,percentTime:0,isPause:!1,callback:!1},e),t.resetProgressBar(),t.startProgressBar()}},mainHero=function(){var e=$(".main-hero"),t=e.find(".fader-wrapper"),n=t.find(".fader-area"),i=n.find(".fa-item"),a=e.attr("data-options"),s={minHeight:300,autoplaySpeed:5e3,infinite:!0,arrows:!1,dots:!1,position:"center center"},r={};try{r=JSON.parse(a)}catch(e){}var o=$.extend(s,r),c={windowHeight:0,titleHeight:0,stHeaderHeight:0,triggerResize:!1,titleOverImageFlag:e.hasClass("title-over-image"),setFaderHeight:function(e,n){var i=this,a="number"==typeof e?e:0,r=i.titleHeight+a;n<=50&&(n=s.minHeight);var o=i.stHeaderHeight+n;return i.titleOverImageFlag&&(o+=i.titleHeight),$("body").hasClass("noHeader")?t.css({minHeight:o,height:o}):t.css({minHeight:o,height:i.windowHeight-r}),i.triggerResize=!1,!1},handleSize:function(){var e=this;resizer((function(){var t=$(window).height(),n=Math.ceil($(".title-area").outerHeight(!0)),i=Math.ceil($(".st-header").outerHeight(!0));e.windowHeight!==t&&(e.windowHeight=t,e.triggerResize=!0),e.titleHeight!==n&&(e.titleHeight=n,e.triggerResize=!0),e.stHeaderHeight!==i&&(e.stHeaderHeight=i,e.triggerResize=!0),e.triggerResize&&e.setFaderHeight(100,0)}))},setAdditionals:function(){o.dots&&i.length>1&&(t.append("<div class='dots-container'></div>"),e.addClass("has-dots")),o.arrows&&i.length>1&&(t.append("<div class='arrows-container'></div>"),e.addClass("has-arrows"))},faderInit:function(){n.hasClass("slick-initialized")||n.slick({fade:!0,arrows:o.arrow,appendArrows:t.find(".arrows-container"),nextArrow:cpCustomElements.next(e),prevArrow:cpCustomElements.prev(e),dots:o.dots,appendDots:t.find(".dots-container"),customPaging:function(t,n){return"undefined"!=typeof cpDots?cpDots(t,n,e):$('<button type="button" />').text(n+1)},autoplay:o.autoplaySpeed>1e3,autoplaySpeed:o.autoplaySpeed,infinite:o.infinite})},init:function(){var e=this;try{e.setAdditionals(),e.handleSize(),e.faderInit()}catch(e){}}};return{init:function(){c.init()}}}(),cpMenuLevels=function(){var e=$(".menu-levels").find(".item-js"),t={};try{t=cpMenuLevelsCallback.callbacks.menu}catch(e){}var customElements_arrow=function(){try{defaultArrow=cpMenuLevelsCallback.tpl.arrow}catch(e){}return"<i class='open-level-icon'><span></span></i>"},n={handleArrow:function(){return"<button class='open-level open-level-js' title='Open Level' aria-label='Open Level'>{ICON_TPL}</button>".replace(/{ICON_TPL}/g,customElements_arrow())},checkDropdown:function(){var t=this;e.each((function(){$(this).find(".dropdown-js").length&&($(this).addClass("has-dropdown"),$(this).find(" > .link-container").append(t.handleArrow()),"true"===$(this).attr("data-open-child")&&$(this).find(".dropdown-js").length>0&&$(this).addClass("has-open-child"))}))},checkCurrent:function(){$(".dropdown-js").each((function(){if($(this).find(".current").length){var e=$(this).parents(".item-js");$(this).show(),e.addClass("active")}}))},init:function(){this.checkDropdown(),this.checkCurrent()}},i={open:function(e){if(!e.hasClass("active")){e.addClass("active"),e.find(".dropdown-js").slideDown(200);try{t.onItemOpen(e)}catch(e){}}},close:function(e){if(e.hasClass("active")){e.removeClass("active"),e.find(".dropdown-js").slideUp(150);try{t.onItemClose(e)}catch(e){}}},handleLevels:function(e){e.hasClass("active")?this.close(e):this.open(e)},handleEvents:function(){var e=this;$(".open-level-js").on("click",(function(){var t=$(this).parents(".item-js");e.handleLevels(t)})),$(".link-js").on("click",(function(e){if($(this).closest(".item-js").hasClass("has-open-child"))return $(this).closest(".item-js").find(".open-level-js").trigger("click"),e.preventDefault(),!1}))},init:function(){this.handleEvents()}};return{init:function(){n.init(),i.init(),$(".menu-levels").trigger("menu-opened")}}}(),menuFixed={offset:50,scrollTop:function(){$(".cp-fixed-menu").stop().animate({scrollTop:0},1)},open:function(){var e=this,t=0;let n=0;$(".fm-current-page").on("click",(function(){clearTimeout(n),$(this).parents(".cp-fixed-menu").hasClass("opened")?($(this).parents(".cp-fixed-menu").removeClass("opened"),$(".cp-fixed-menu").trigger("cp-fixed-closed"),clearTimeout(t),e.scrollTop(),t=setTimeout((function(){e.checkHeight()}),500)):($(this).parents(".cp-fixed-menu").addClass("opened"),n=setTimeout((function(){e.checkScroll(!0)}),500)),e.scrollTop()})),$(document).on("click",(function(n){n.target.closest(".cp-fixed-menu")||("undefined"==typeof openFixedMenuOnClick?$("html.touch .cp-fixed-menu").removeClass("opened"):$(".cp-fixed-menu").removeClass("opened"),clearTimeout(t),e.scrollTop(),t=setTimeout((function(){e.checkHeight()}),500),e.checkScroll())})),"undefined"==typeof openFixedMenuOnClick?$("html.touch .cp-fixed-menu").on("click",(function(e){e.stopPropagation()})):$(".cp-fixed-menu").on("click",(function(e){e.stopPropagation()})),$("html").hasClass("no-touch")&&"undefined"==typeof openFixedMenuOnClick&&($(".cp-fixed-menu").mouseenter((function(){clearTimeout(n),$(this).addClass("opened"),n=setTimeout((function(){e.checkScroll(!0)}),500)})),$(".cp-fixed-menu").mouseleave((function(){clearTimeout(t),e.scrollTop(),$(this).removeClass("opened"),$(".cp-fixed-menu").trigger("cp-fixed-closed"),t=setTimeout((function(){e.checkHeight()}),500),e.checkScroll()})))},checkScroll:function(e){let t=$(".cp-fixed-menu");if(e)return t.addClass("has-scroll"),!1;t.removeClass("has-scroll")},checkHeight:function(){var e=$(".cp-fixed-menu"),t=e.find(".fm-current-page"),n=e.find(".fm-wrapper");e.css({height:t.outerHeight(!0),"max-height":t.outerHeight(!0)+n.outerHeight(!0)+5,opacity:1})},init:function(){var e=this;e.checkHeight(),$(".menu-levels").on("menu-opened",(function(){e.checkHeight()})),e.open()}},handleCpMenu={init:function(){menuFixed.init(),cpMenuLevels.init()}},accordionFn=function(){var defaultFn=function(){return!1},e={openSpeed:200,closeSpeed:150,type:0,callbacks:{beforeOpen:defaultFn,beforeClose:defaultFn,afterOpen:defaultFn,afterClose:defaultFn,onInit:defaultFn}};const t={increment:0,sectionId:"sl-faqs-{ID}",handleOpen:function(e,t,n){let i=!0,a=!1;"close"===n&&(i=!1,a=!0),e.attr("aria-expanded",i),t.attr("aria-hidden",a)},handleIds:function(e,t){let n=this;e.attr("aria-controls",n.sectionId.replace(/{ID}/g,n.increment)),t.attr("id",n.sectionId.replace(/{ID}/g,n.increment)),n.increment++}};var n="undefined"!=typeof optsAccordion?optsAccordion:{},i=$.extend(e,n),a={open:function(e,n,a){var s=i.openSpeed>99?i.openSpeed:100,r=i.type;if(!e.hasClass("active")){if(e.addClass("active"),t.handleOpen(a,n,"open"),1===r)return!1;n.slideDown(s)}},close:function(e,n,a){var s=i.closeSpeed>99?i.closeSpeed:100,r=i.type;if(e.hasClass("active")){if(e.removeClass("active"),t.handleOpen(a,n,"close"),1===r)return!1;n.stop(!0,!0).slideUp(s)}},init:function(){var e=this;$(".accordion-container-js").each((function(){var e=$(this).find(".accordion-link-js"),n=$(this).find(".accordion-dropdown-js");t.handleIds(e,n)})),$(".accordion-link-js").on("click",(function(){var t=$(this),n=$(t.parents(".accordion-container-js")[0]),i=n.find(".accordion-dropdown-js");n.hasClass("active")?e.close(n,i,t):e.open(n,i,t)}))}};return{init:function(){a.init()}}}(),handleGeneralTable=function(){const e={reverseResponsiveLogic:!1};var t={handleAttrs:function(e){e.find("tr").each((function(){$(this).find("td").each((function(t){var n=e.find("th").eq(t).html();$(this).wrapInner("<div class='content-column'></div>"),void 0!==n&&$(this).prepend("<div class='head-column'>"+n+"</div>")}))})),e.addClass("responsive-table")},init:function(t){var n=this,i=t.find(".secondLvlCss table");let a={};"undefined"!=typeof tableCustomOpts&&(a=tableCustomOpts);var s={...e,...a};i.each((function(){var e=$(this);s.reverseResponsiveLogic?!e.hasClass("responsive-table")&&e.hasClass("has-responsive")&&n.handleAttrs(e):e.hasClass("responsive-table")||e.hasClass("no-responsive")||n.handleAttrs(e)}))}};return{init:function(){t.init($(".content-wrap")),$("body").on("mediaPopupWasOpened",(function(){t.init($(".mediaPopup"))}))}}}(),carouselWidget=function(){var e=$(".cms-carousel"),t={crslDefault:{arrows:!0,variableWidth:!0,infinite:!1,autoSlidesToShow:!0,swipeToSlide:!0},init:function(e,t,n,i){var a,s,r={},o={},c=cpCustomElements.next(e),l=cpCustomElements.prev(e),d=0;try{r=cpHelpers.checkCallback(carouselCallbacks.crslOpts(e,t))}catch(e){}"object"!=typeof r&&(r={});try{o=JSON.parse(e.attr("data-crsl-opts"))}catch(e){}!1!==(a=$.extend(r,o)).arrows&&e.find(".controller-js").each((function(){$(this).append($(c).addClass("next-js")),$(this).prepend($(l).addClass("prev-js"))})),s={...$.extend(this.crslDefault,{nextArrow:e.find(".next-js"),prevArrow:e.find(".prev-js")}),...a},e.addClass(s.arrows?"has-arrows":"no-arrows");try{cpHelpers.checkCallback(carouselCallbacks.beforeInit(e,t))}catch(e){}t.on("init",(function(){clearTimeout(d),d=setTimeout((function(){e.addClass("loaded")}),100)})),t.slick(s);try{cpHelpers.checkCallback(carouselCallbacks.afterInit(e,t))}catch(e){}}};return{init:function(n){var i=e;void 0!==n&&(i=n),i.each((function(){var e=$(this),n=e.find(".crsl-inner"),i=n.find("> div");t.init(e,n,i,{})}))}}}(),generateAdditionalCards=function(){var e=$("#PageStaffJson").length?JSON.parse($("#PageStaffJson").val()):[],t=$("#PageCardsJson").length?JSON.parse($("#PageCardsJson").val()):[],n=$(".staff-wrapper"),i=$(".cards-wrapper");function _handleAppend(e,t,n,i,a,s){if(n.length>0){var r=!1;n.each((function(){var e=$(this),n=e.find(".append-container");if(!r){var o={},c={};try{c=s.opts(e)}catch(e){}try{o=JSON.parse(e.attr("data-opts"))}catch(e){}var l=$.extend(c,o),d=$.extend(a,l);if(d.sort&&d.sortKey&&function(e,t,n){function sortByKey(e,i){var a=e[n],s=i[n];return"desc"===t?a<s?1:a>s?-1:0:a>s?1:a<s?-1:0}e.sort(sortByKey)}(t,d.sort,d.sortKey),t.length>0){try{s.beforeAppend(e,t)}catch(e){}var p=t.length;d.count>0&&(p=Math.min(d.count,t.length)),handleSplitGrid.init(e.find(".append-container"),d.split);for(var h=0;h<p;h++){if(e.find(".grid-split-js").length){var f=e.find(".grid-split-js").length;n=e.find(".grid-split-js[data-id="+h%f+"]")}try{if(void 0===s.template(e,t[h],h))throw new Error("clean up your function");n.append(s.template(e,t[h],h))}catch(a){try{if(!(i(t[h]).length>1))return e.remove(),r=!0,!1;n.append(i(t[h]))}catch(t){return e.remove(),r=!0,!1}}}"undefined"!=typeof generalTruncate&&generalTruncate(e.find(".truncate-js")),e.length&&e.hasClass("generated-crsl")&&carouselWidget.init(e);try{s.afterAppend(e,t)}catch(e){}}else{try{s.beforeRemove(e)}catch(e){}e.remove();try{s.afterRemove(e)}catch(e){}}}}))}else{let e=$(this);try{s.beforeRemove(e)}catch(e){}e.remove();try{s.afterRemove(e)}catch(e){}}}var handleStaff_init=function(){var t={};if("undefined"!=typeof othersCallbacks&&(t=othersCallbacks),"undefined"!=typeof ISGeneralService&&n.length){let e={},i={};void 0!==t.staff.payload&&(i=t.staff.payload),void 0!==t.staff.serviceOpts&&(e=t.staff.serviceOpts);new ISGeneralService(e,i).init((e=>{e.length>0?_handleAppend(0,e,n,sharedGenerateStaff,{count:0,sort:!1,sortKey:!1},t.staff):window.dispatchEvent(new CustomEvent("HandleStaffNoData"))}))}else e.length>0&&n.length&&_handleAppend(0,e,n,sharedGenerateStaff,{count:0,sort:!1,sortKey:!1},t.staff)},handleCards_init=function(){var e={};if("undefined"!=typeof othersCallbacks&&(e=othersCallbacks),"undefined"!=typeof ISGeneralService&&i.length){let t={},n={};void 0!==e.cards.payload&&(n=e.cards.payload),void 0!==e.cards.serviceOpts&&(t=e.cards.serviceOpts);new ISGeneralService({...t,type:"cards"},n).init((function(t){t.length>0&&_handleAppend(0,t,i,sharedGenerateCard,{count:0},e.cards)}))}else t.length>0&&i.length&&_handleAppend(0,t,i,sharedGenerateCard,{count:0},e.cards)};return{init:function(){handleStaff_init(),handleCards_init()}}}(),handleSplitGrid={init:function(e,t){var n=void 0!==t?parseInt(t):2;if(void 0!==e.attr("data-split")&&(n=parseInt(e.attr("data-split"))),n>0&&e.find(".grid-split-js").length<1&&e.hasClass("grid-widget-split")){for(var i=0;i<n;i++)e.append("<div class='grid-split grid-split-js' data-id='{ID}'></div>".replace(/{ID}/,i));e.addClass("splitted")}}},blockquoteFader={timer:!1,carousel:function(e){var t=this;e.each((function(){var n=$(this),i=n.find(".bf-inner");n.find(".carousel-controller").find(".current").html("<sup>1</sup>"+i.find(".item").length),i.hasClass("slick-initialized")||i.slick({infinite:!1,adaptiveHeight:!0,fade:!0,prevArrow:"<button class='arrow-ctrl prev' title='Prev Slide'><i class='g-icons g-arrow-mid-icon'></i></button>",nextArrow:"<button class='arrow-ctrl next' title='Next Slide'><i class='g-icons g-arrow-mid-icon'></i></button>",appendArrows:n.find(".carousel-controller")}),t.timer,e.hover((function(){t.timer.pause()}),(function(){t.timer.resumeFromPause()}))}))},init:function(){var e=$(".blockquote-fader");e.length&&this.carousel(e)}},ghostItems={addItems:function(e){e.each((function(){var e=$(this),t=e.attr("data-items-number"),n=0,i=e.children(),a=i.length,s=i.first().clone().css({visibility:"hidden",opacity:0,"pointer-events":"none","padding-top":0,"margin-top":0,"padding-bottom":0,"margin-bottom":0}).html("");try{if(""!==t&&t.length>0&&a%t>0){n=t-a%t;for(var r=0;r<n;r++)e.append(s.prop("outerHTML"))}}catch(e){}}))},init:function(){var e=$(".add-ghost-items-js");e.length>0&&this.addItems(e)}},mediaClick=function(){$("body").on("click","[data-mediaitemid], [data-staffid], [data-cardid]",(function(){$("html").addClass("cpTplGBlockScroll")})),$("body").on("click ",".mediaPopup",(function(e){$(e.target).closest(".mediaPopup__inner").length||$("html").removeClass("cpTplGBlockScroll")})),$("body").on("click ",".mediaPopup__close ",(function(e){$("html").removeClass("cpTplGBlockScroll")}))};
!function(e){e.contentPageMedia=function(a,t){function mediaCallback(a,t,c,r,l,s){var d={};try{"object"==typeof r&&(d=r)}catch(e){}if(t.length>0)try{c.each((function(){var t=e(this),c=t.find(".media-container");let r={},i={},n={},p={};try{"object"==typeof cpHelpers.checkCallback(d.options(t))&&(r=cpHelpers.checkCallback(d.options(t)))}catch(e){}try{i=JSON.parse(t.attr("data-media-opts"))}catch(e){}n=e.extend(r,i),p={...s,...n};let o=e.extend(p,{callback:function(e){if(e.length>0){var r=!1;try{cpHelpers.checkCallback(d.beforeAppend(t,e))}catch(e){}"stories"===a&&"undefined"!=typeof mpHelper&&mpHelper.storeInfoForMediaPopup(e),handleSplitGrid.init(c);for(var s=c.find(".grid-split-js").length,i=0;i<Math.min(e.length,p.TakeCount);i++)if(!r){var n="";try{n=cpHelpers.checkCallback(d.template(t,e[i],i))}catch(a){try{""!==l&&l&&(n=l(e[i]))}catch(e){}}""!==n?s>0&&c.hasClass("grid-widget-split")?c.find(".grid-split-js[data-id="+i%s+"]").append(n):c.append(n):(r=!0,t.remove())}try{cpHelpers.checkCallback(d.afterAppend(t,e))}catch(e){}"undefined"!=typeof sharedMediaItemCallback&&sharedMediaItemCallback.init(),t.hasClass("async-crsl")&&carouselWidget.init(t)}else{try{cpHelpers.checkCallback(d.beforeRemove(t))}catch(e){}t.remove();try{cpHelpers.checkCallback(d.afterRemove(t))}catch(e){}}}});e.MediaServiceHelper.GetMediaItemsAdvanced(o)}))}catch(e){c.remove()}else{try{cpHelpers.checkCallback(d.beforeRemove($this))}catch(e){}c.remove();try{cpHelpers.checkCallback(d.afterRemove($this))}catch(e){}}}MediaServiceHelper=new e.MediaServiceHelper({ServiceUrl:e("#MediaPlusUrl").val(),FeedsJson:MediaPlusFeedsArray,FeedGroups:sharedFeedGroups,InitCallBack:function(e){for(var c=[],r=[],l=0;l<e.FeedGroups.length;l++)for(var s=0;s<e.FeedGroups[l].FeedIds.length;s++){"events"!==e.FeedGroups[l].GroupName?r.push(e.FeedGroups[l].FeedIds[s]):c.push(e.FeedGroups[l].FeedIds[s])}a.length&&c.length>0&&mediaCallback("events",c,a,mediaCallbacks.events,sharedGenerateMediaItemHtml,{FeedIds:c,TakeCount:3,IsExtended:!0,groupResults:"1"}),t.length&&r.length>0&&mediaCallback("stories",r,t,mediaCallbacks.stories,sharedGenerateMediaItemHtml,{FeedIds:r,TakeCount:3})}})}}(jQuery);
!function(e){e(document).ready((function(){handleCpMenu.init(),mainHero.init(),carouselWidget.init(),accordionFn.init(),handleGeneralTable.init(),generateAdditionalCards.init(),ghostItems.init(),mediaClick()})),e(window).load((function(){try{"undefined"!=typeof MediaPlusFeedsArray&&MediaPlusFeedsArray.length>0&&e.contentPageMedia(e(".events-async"),e(".stories-async"))}catch(e){}}))}(jQuery);
!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=function(t,s){return void 0===s&&(s="undefined"!=typeof window?require("jquery"):require("jquery")(t)),e(s),s}:e(jQuery)}((function(e){"use strict";var t=e(document),s=e(window),l="selectric",i=".sl",n=["a","e","i","o","u","n","c","y"],a=[/[\xE0-\xE5]/g,/[\xE8-\xEB]/g,/[\xEC-\xEF]/g,/[\xF2-\xF6]/g,/[\xF9-\xFC]/g,/[\xF1]/g,/[\xE7]/g,/[\xFD-\xFF]/g],Selectric=function(t,s){var l=this;l.element=t,l.$element=e(t),l.state={multiple:!!l.$element.attr("multiple"),enabled:!1,opened:!1,currValue:-1,selectedIdx:-1,highlightedIdx:-1},l.eventTriggers={open:l.open,close:l.close,destroy:l.destroy,refresh:l.refresh,init:l.init},l.init(s)};Selectric.prototype={utils:{isMobile:function(){var e=/android|iphone|ipad/i.test(navigator.userAgent);return e||(e=/Macintosh/.test(navigator.userAgent)&&"ontouchend"in document),e},escapeRegExp:function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},replaceDiacritics:function(e){for(var t=a.length;t--;)e=e.toLowerCase().replace(a[t],n[t]);return e},format:function(e){var t=arguments;return(""+e).replace(/\{(?:(\d+)|(\w+))\}/g,(function(e,s,l){return l&&t[1]?t[1][l]:t[s]}))},nextEnabledItem:function(e,t){for(;e[t=(t+1)%e.length].disabled;);return t},previousEnabledItem:function(e,t){for(;e[t=(t>0?t:e.length)-1].disabled;);return t},toDash:function(e){return e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()},triggerCallback:function(t,s){var l=s.element,i=s.options["on"+t],n=[l].concat([].slice.call(arguments).slice(1));e.isFunction(i)&&i.apply(l,n),e(l).trigger("selectric-"+this.toDash(t),n)},arrayToClassname:function(t){var s=e.grep(t,(function(e){return!!e}));return e.trim(s.join(" "))}},init:function(t){var s=this;if(s.options=e.extend(!0,{},e.fn.selectric.defaults,s.options,t),s.utils.triggerCallback("BeforeInit",s),s.destroy(!0),s.options.disableOnMobile&&s.utils.isMobile())s.disableOnMobile=!0;else{s.classes=s.getClassNames();var l=e("<input/>",{class:s.classes.input,readonly:s.utils.isMobile()}),i=e("<div/>",{class:s.classes.items,tabindex:-1}),n=e("<div/>",{class:s.classes.scroll}),a=e("<div/>",{class:s.classes.prefix,html:s.options.arrowButtonMarkup}),o=e("<span/>",{class:"label"}),r=s.$element.wrap("<div/>").parent().append(a.prepend(o),i,l),u=e("<div/>",{class:s.classes.hideselect});s.elements={input:l,items:i,itemsScroll:n,wrapper:a,label:o,outerWrapper:r},s.options.nativeOnMobile&&s.utils.isMobile()&&(s.elements.input=void 0,u.addClass(s.classes.prefix+"-is-native"),s.$element.on("change",(function(){s.refresh()}))),s.$element.on(s.eventTriggers).wrap(u),s.originalTabindex=s.$element.prop("tabindex"),s.$element.prop("tabindex",-1),s.populate(),s.activate(),s.utils.triggerCallback("Init",s)}},activate:function(){var e=this,t=e.elements.items.closest(":visible").children(":hidden").addClass(e.classes.tempshow),s=e.$element.width();t.removeClass(e.classes.tempshow),e.utils.triggerCallback("BeforeActivate",e),e.elements.outerWrapper.prop("class",e.utils.arrayToClassname([e.classes.wrapper,e.$element.prop("class").replace(/\S+/g,e.classes.prefix+"-$&"),e.options.responsive?e.classes.responsive:""])),e.options.inheritOriginalWidth&&s>0&&e.elements.outerWrapper.width(s),e.unbindEvents(),e.$element.prop("disabled")?(e.elements.outerWrapper.addClass(e.classes.disabled),e.elements.input&&e.elements.input.prop("disabled",!0)):(e.state.enabled=!0,e.elements.outerWrapper.removeClass(e.classes.disabled),e.$li=e.elements.items.removeAttr("style").find("li"),e.bindEvents()),e.utils.triggerCallback("Activate",e)},getClassNames:function(){var t=this,s=t.options.customClass,l={};return e.each("Input Items Open Disabled TempShow HideSelect Wrapper Focus Hover Responsive Above Below Scroll Group GroupLabel".split(" "),(function(e,i){var n=s.prefix+i;l[i.toLowerCase()]=s.camelCase?n:t.utils.toDash(n)})),l.prefix=s.prefix,l},setLabel:function(){var t=this,s=t.options.labelBuilder;if(t.state.multiple){var l=e.isArray(t.state.currValue)?t.state.currValue:[t.state.currValue];l=0===l.length?[0]:l;varl.length?[0]:l;varl.length?[0]:l;varl.length?[0]:l;var i=e.map(l,(function(s){return e.grep(t.lookupItems,(function(e){return e.index===s}))[0]}));i=e.grep(i,(function(t){return i.length>1||0===i.length?""!==e.trim(t.value):t})),i=e.map(i,(function(l){return e.isFunction(s)?s(l):t.utils.format(s,l)})),t.options.multiple.maxLabelEntries&&(i.length>=t.options.multiple.maxLabelEntries+1?(i=i.slice(0,t.options.multiple.maxLabelEntries)).push(e.isFunction(s)?s({text:"..."}):t.utils.format(s,{text:"..."})):i.slice(i.length-1)),t.elements.label.html(i.join(t.options.multiple.separator))}else{var n=t.lookupItems[t.state.currValue];t.elements.label.html(e.isFunction(s)?s(n):t.utils.format(s,n))}},populate:function(){var t=this,s=t.$element.children(),l=t.$element.find("option"),i=l.filter(":selected"),n=l.index(i),a=0,o=t.state.multiple?[]:0;i.length>1&&t.state.multiple&&(n=[],i.each((function(){n.push(e(this).index())}))),t.state.currValue=~n?n:o,t.state.selectedIdx=t.state.currValue,t.state.highlightedIdx=t.state.currValue,t.items=[],t.lookupItems=[],s.length&&(s.each((function(s){var l=e(this);if(l.is("optgroup")){var i={element:l,label:l.prop("label"),groupDisabled:l.prop("disabled"),items:[]};l.children().each((function(s){var l=e(this);i.items[s]=t.getItemData(a,l,i.groupDisabled||l.prop("disabled")),t.lookupItems[a]=i.items[s],a++})),t.items[s]=i}else t.items[s]=t.getItemData(a,l,l.prop("disabled")),t.lookupItems[a]=t.items[s],a++})),t.setLabel(),t.elements.items.append(t.elements.itemsScroll.html(t.getItemsMarkup(t.items))))},getItemData:function(t,s,l){return{index:t,element:s,value:s.val(),className:s.prop("class"),text:s.html(),slug:e.trim(this.utils.replaceDiacritics(s.html())),alt:s.attr("data-alt"),selected:s.prop("selected"),disabled:l}},getItemsMarkup:function(t){var s=this,l="<ul>";return e.isFunction(s.options.listBuilder)&&s.options.listBuilder&&(t=s.options.listBuilder(t)),e.each(t,(function(t,i){void 0!==i.label?(l+=s.utils.format('<ul class="{1}"><li class="{2}">{3}</li>',s.utils.arrayToClassname([s.classes.group,i.groupDisabled?"disabled":"",i.element.prop("class")]),s.classes.grouplabel,i.element.prop("label")),e.each(i.items,(function(e,t){l+=s.getItemMarkup(t.index,t)})),l+="</ul>"):l+=s.getItemMarkup(i.index,i)})),l+"</ul>"},getItemMarkup:function(t,s){var l=this,i=l.options.optionsItemBuilder,n={value:s.value,text:s.text,slug:s.slug,index:s.index};return l.utils.format('<li data-index="{1}" class="{2}">{3}</li>',t,l.utils.arrayToClassname([s.className,t===l.items.length-1?"last":"",s.disabled?"disabled":"",s.selected?"selected":""]),e.isFunction(i)?l.utils.format(i(s,this.$element,t),s):l.utils.format(i,n))},unbindEvents:function(){var e=this;e.elements.wrapper.add(e.$element).add(e.elements.outerWrapper).add(e.elements.input).off(i)},bindEvents:function(){var t=this;t.elements.outerWrapper.on("mouseenter.sl mouseleave.sl",(function(s){e(this).toggleClass(t.classes.hover,"mouseenter"===s.type),t.options.openOnHover&&(clearTimeout(t.closeTimer),"mouseleave"===s.type?t.closeTimer=setTimeout(e.proxy(t.close,t),t.options.hoverIntentTimeout):t.open())})),t.elements.wrapper.on("click.sl",(function(e){t.state.opened?t.close():t.open(e)})),t.options.nativeOnMobile&&t.utils.isMobile()||(t.$element.on("focus.sl",(function(){t.elements.input.focus()})),t.elements.input.prop({tabindex:t.originalTabindex,disabled:!1}).on("keydown.sl",e.proxy(t.handleKeys,t)).on("focusin.sl",(function(e){t.elements.outerWrapper.addClass(t.classes.focus),t.elements.input.one("blur",(function(){t.elements.input.blur()})),t.options.openOnFocus&&!t.state.opened&&t.open(e)})).on("focusout.sl",(function(){t.elements.outerWrapper.removeClass(t.classes.focus)})).on("input propertychange",(function(){var s=t.elements.input.val(),l=new RegExp("^"+t.utils.escapeRegExp(s),"i");clearTimeout(t.resetStr),t.resetStr=setTimeout((function(){t.elements.input.val("")}),t.options.keySearchTimeout),s.length&&e.each(t.items,(function(e,s){if(!s.disabled){if(l.test(s.text)||l.test(s.slug))return t.highlight(e),!1;if(s.alt)for(var i=s.alt.split("|"),n=0;n<i.length&&i[n];n++)if(l.test(i[n].trim()))return t.highlight(e),!1}}))}))),t.$li.on({mousedown:function(e){e.preventDefault(),e.stopPropagation()},click:function(){return t.select(e(this).data("index")),!1}})},handleKeys:function(t){var s=this,l=t.which,i=s.options.keys,n=e.inArray(l,i.previous)>-1,a=e.inArray(l,i.next)>-1,o=e.inArray(l,i.select)>-1,r=e.inArray(l,i.open)>-1,u=s.state.highlightedIdx,p=n&&0===u||a&&u+1===s.items.length,c=0;if(13!==l&&32!==l||t.preventDefault(),n||a){if(!s.options.allowWrap&&p)return;n&&(c=s.utils.previousEnabledItem(s.lookupItems,u)),a&&(c=s.utils.nextEnabledItem(s.lookupItems,u)),s.highlight(c)}if(o&&s.state.opened)return s.select(u),void(s.state.multiple&&s.options.multiple.keepMenuOpen||s.close());r&&!s.state.opened&&s.open()},refresh:function(){var e=this;e.populate(),e.activate(),e.utils.triggerCallback("Refresh",e)},setOptionsDimensions:function(){var e=this,t=e.elements.items.closest(":visible").children(":hidden").addClass(e.classes.tempshow),s=e.options.maxHeight,l=e.elements.items.outerWidth(),i=e.elements.wrapper.outerWidth()-(l-e.elements.items.width());!e.options.expandToItemText||i>l?e.finalWidth=i:(e.elements.items.css("overflow","scroll"),e.elements.outerWrapper.width(9e4),e.finalWidth=e.elements.items.width(),e.elements.items.css("overflow",""),e.elements.outerWrapper.width("")),e.elements.items.width(e.finalWidth).height()>s&&e.elements.items.height(s),t.removeClass(e.classes.tempshow)},isInViewport:function(){var e=this;if(!0===e.options.forceRenderAbove)e.elements.outerWrapper.addClass(e.classes.above);else if(!0===e.options.forceRenderBelow)e.elements.outerWrapper.addClass(e.classes.below);else{var t=s.scrollTop(),l=s.height(),i=e.elements.outerWrapper.offset().top,n=i+e.elements.outerWrapper.outerHeight()+e.itemsHeight<=t+l,a=i-e.itemsHeight>t,o=!n&&a,r=!o;e.elements.outerWrapper.toggleClass(e.classes.above,o),e.elements.outerWrapper.toggleClass(e.classes.below,r)}},detectItemVisibility:function(t){var s=this,l=s.$li.filter("[data-index]");s.state.multiple&&(t=e.isArray(t)&&0===t.length?0:t,t=e.isArray(t)?Math.min.apply(Math,t):t);var i=l.eq(t).outerHeight(),n=l[t].offsetTop,a=s.elements.itemsScroll.scrollTop(),o=n+2*i;s.elements.itemsScroll.scrollTop(o>a+s.itemsHeight?o-s.itemsHeight:n-i<a?n-i:a)},open:function(s){var l=this;if(l.options.nativeOnMobile&&l.utils.isMobile())return!1;l.utils.triggerCallback("BeforeOpen",l),s&&(s.preventDefault(),l.options.stopPropagation&&s.stopPropagation()),l.state.enabled&&(l.setOptionsDimensions(),e("."+l.classes.hideselect,"."+l.classes.open).children().selectric("close"),l.state.opened=!0,l.itemsHeight=l.elements.items.outerHeight(),l.itemsInnerHeight=l.elements.items.height(),l.elements.outerWrapper.addClass(l.classes.open),l.elements.input.val(""),s&&"focusin"!==s.type&&l.elements.input.focus(),setTimeout((function(){t.on("click.sl",e.proxy(l.close,l)).on("scroll.sl",e.proxy(l.isInViewport,l))}),1),l.isInViewport(),l.options.preventWindowScroll&&t.on("mousewheel.sl DOMMouseScroll.sl","."+l.classes.scroll,(function(t){var s=t.originalEvent,i=e(this).scrollTop(),n=0;"detail"in s&&(n=-1*s.detail),"wheelDelta"in s&&(n=s.wheelDelta),"wheelDeltaY"in s&&(n=s.wheelDeltaY),"deltaY"in s&&(n=-1*s.deltaY),(i===this.scrollHeight-l.itemsInnerHeight&&n<0||0===i&&n>0)&&t.preventDefault()})),l.detectItemVisibility(l.state.selectedIdx),l.highlight(l.state.multiple?-1:l.state.selectedIdx),l.utils.triggerCallback("Open",l))},close:function(){var e=this;e.utils.triggerCallback("BeforeClose",e),t.off(i),e.elements.outerWrapper.removeClass(e.classes.open),e.state.opened=!1,e.utils.triggerCallback("Close",e)},change:function(){var t=this;t.utils.triggerCallback("BeforeChange",t),t.state.multiple?(e.each(t.lookupItems,(function(e){t.lookupItems[e].selected=!1,t.$element.find("option").prop("selected",!1)})),e.each(t.state.selectedIdx,(function(e,s){t.lookupItems[s].selected=!0,t.$element.find("option").eq(s).prop("selected",!0)})),t.state.currValue=t.state.selectedIdx,t.setLabel(),t.utils.triggerCallback("Change",t)):t.state.currValue!==t.state.selectedIdx&&(t.$element.prop("selectedIndex",t.state.currValue=t.state.selectedIdx).data("value",t.lookupItems[t.state.selectedIdx].text),t.setLabel(),t.utils.triggerCallback("Change",t))},highlight:function(e){var t=this,s=t.$li.filter("[data-index]").removeClass("highlighted");t.utils.triggerCallback("BeforeHighlight",t),void 0===e||-1===e||t.lookupItems[e].disabled||(s.eq(t.state.highlightedIdx=e).addClass("highlighted"),t.detectItemVisibility(e),t.utils.triggerCallback("Highlight",t))},select:function(t){var s=this,l=s.$li.filter("[data-index]");if(s.utils.triggerCallback("BeforeSelect",s,t),void 0!==t&&-1!==t&&!s.lookupItems[t].disabled){if(s.state.multiple){s.state.selectedIdx=e.isArray(s.state.selectedIdx)?s.state.selectedIdx:[s.state.selectedIdx];var i=e.inArray(t,s.state.selectedIdx);-1!==i?s.state.selectedIdx.splice(i,1):s.state.selectedIdx.push(t),l.removeClass("selected").filter((function(t){return-1!==e.inArray(t,s.state.selectedIdx)})).addClass("selected")}else l.removeClass("selected").eq(s.state.selectedIdx=t).addClass("selected");s.state.multiple&&s.options.multiple.keepMenuOpen||s.close(),s.change(),s.utils.triggerCallback("Select",s,t)}},destroy:function(e){var t=this;t.state&&t.state.enabled&&(t.elements.items.add(t.elements.wrapper).add(t.elements.input).remove(),e||t.$element.removeData(l).removeData("value"),t.$element.prop("tabindex",t.originalTabindex).off(i).off(t.eventTriggers).unwrap().unwrap(),t.state.enabled=!1)}},e.fn.selectric=function(t){return this.each((function(){var s=e.data(this,l);s&&!s.disableOnMobile?"string"==typeof t&&s[t]?s[t]():s.init(t):e.data(this,l,new Selectric(this,t))}))},e.fn.selectric.defaults={onChange:function(t){e(t).change()},maxHeight:300,keySearchTimeout:500,arrowButtonMarkup:'<b class="button">&#x25be;</b>',disableOnMobile:!1,nativeOnMobile:!0,openOnFocus:!0,openOnHover:!1,hoverIntentTimeout:500,expandToItemText:!1,responsive:!1,preventWindowScroll:!0,inheritOriginalWidth:!1,allowWrap:!0,forceRenderAbove:!1,forceRenderBelow:!1,stopPropagation:!0,optionsItemBuilder:"{text}",labelBuilder:"{text}",listBuilder:!1,keys:{previous:[37,38],next:[39,40],select:[9,13,27],open:[13,32,37,38,39,40],close:[9,27]},customClass:{prefix:l,camelCase:!1},multiple:{separator:", ",keepMenuOpen:!0,maxLabelEntries:!1}}}));
var admissionsFunctionality={day:"",month:"",year:"",scrolled:0,allResults:$("#AdmissionsEntryPointsJson").length?JSON.parse($("#AdmissionsEntryPointsJson").val()):[],sendEmailInputDefaultValue:"",sendEmailInputErrorMsg:cdnGeneralHelpers.getWindowWidth()>=768?"Please check your email!":"Check email",sendEmailSuccessMsg:cdnGeneralHelpers.getWindowWidth()>=768?"Success! Your email has been sent!":"Success!",init:function(){const s=(new Date).getFullYear();for(var a=1;a<=31;a++)a<10?$(".adm-input.adm-input-days .input-options").append(`<div class='adm-select' data-val ='${a}'>0${a}</div>`):$(".adm-input.adm-input-days .input-options").append(`<div class='adm-select' data-val ='${a}'>${a}</div>`);for(a=1;a<=12;a++)a<10?$(".adm-input.adm-input-months .input-options").append(`<div class='adm-select' data-val ='${a}'>0${a}</div>`):$(".adm-input.adm-input-months .input-options").append(`<div class='adm-select' data-val ='${a}'>${a}</div>`);for(a=s;a>=s-17;a--)$(".adm-input.adm-input-yy .input-options").append(`<div class='adm-select' data-val ='${a}'>${a}</div>`);$(".mobile-select.select-days select").on("change",(function(){admissionsFunctionality.day=this.value})),$(".mobile-select.select-months select").on("change",(function(){admissionsFunctionality.month=this.value})),$(".mobile-select.select-year select").on("change",(function(){admissionsFunctionality.year=this.value}));let t="",e="",i="";$(".admissions-functionality-wrapper .admissions-input-area .adm-input.adm-input-days").keypress((function(s){const a=parseInt(s.key),e=$(this);isNaN(a)||a>=1&&a<=9&&(t+=a,admissionsFunctionality.day=parseInt(t),admissionsFunctionality.validateDay().error?(t="",admissionsFunctionality.day=""):($(".adm-input.adm-input-days span").html(t),e.removeClass("opened"),e.find(".input-options").slideUp("fast")))})),$(".admissions-functionality-wrapper .admissions-input-area .adm-input.adm-input-months").keypress((function(s){const a=parseInt(s.key),t=$(this);isNaN(a)||a>=1&&a<=12&&(e+=a,admissionsFunctionality.month=parseInt(e),admissionsFunctionality.validateMonth().error?(e="",admissionsFunctionality.month=""):($(".adm-input.adm-input-months span").html(e),t.removeClass("opened"),t.find(".input-options").slideUp("fast")))})),$(".admissions-functionality-wrapper .admissions-input-area .adm-input.adm-input-yy").keypress((function(s){const a=parseInt(s.key),t=$(this);isNaN(a)||a>=0&&a<=9&&(i+=a,i.length<=4&&($(".adm-input.adm-input-yy span").html(i),t.removeClass("opened"),t.find(".input-options").slideUp("fast")),4===i.length&&(admissionsFunctionality.year=parseInt(i),admissionsFunctionality.validateYear().error&&(i="",admissionsFunctionality.year="")))})),$(".admissions-functionality-wrapper .admissions-input-area .adm-input").keypress((function(s){13===s.keyCode&&($(this).hasClass("opened")?($(this).removeClass("opened"),$(this).find(".input-options").slideUp("fast")):($(this).addClass("opened"),$(this).find(".input-options").slideDown("fast")))})),$(".admissions-functionality-wrapper .admissions-input-area .adm-input").on("click",(function(s){$(this).hasClass("opened")?($(this).removeClass("opened"),$(this).find(".input-options").slideUp("fast")):($(this).addClass("opened"),$(this).find(".input-options").slideDown("fast"))})),$(".admissions-functionality-wrapper .adm-input-days .adm-select").on("click",(function(){admissionsFunctionality.day=$(this).attr("data-val"),$(".adm-input.adm-input-days span").html($(this).html()),admissionsFunctionality.validateDay()})),$(".admissions-functionality-wrapper .adm-input-months .adm-select").on("click",(function(){admissionsFunctionality.month=$(this).attr("data-val"),$(".adm-input.adm-input-months span").html($(this).html()),admissionsFunctionality.validateMonth()})),$(".admissions-functionality-wrapper .adm-input-yy .adm-select").on("click",(function(){admissionsFunctionality.year=$(this).attr("data-val"),$(".adm-input.adm-input-yy span").html($(this).html()),admissionsFunctionality.validateYear()})),$(".admissions-functionality-wrapper .adm-submit").on("click",(()=>{admissionsFunctionality.validateInputs()})),$(".adm-async-form-two .close-adm-results").on("click",(()=>{admissionsFunctionality.hideResultsFromBase(),setTimeout((()=>{gsap.set("html,body",{clearProps:!0})}),300)})),$(".adm-async-form-two .adm-form-two-bg").on("click",(()=>{admissionsFunctionality.hideResultsFromBase(),setTimeout((()=>{gsap.set("html,body",{clearProps:!0})}),300)})),$(".adm-async-form-two").on("focus",".admEmailTo:visible",(function(){$(this).parent().removeClass("error").removeClass("success"),$(this).next().html("GO"),$(this).val()!=admissionsFunctionality.sendEmailInputDefaultValue&&$(this).val()!=admissionsFunctionality.sendEmailInputErrorMsg&&$(this).val()!=admissionsFunctionality.sendEmailSuccessMsg||$(this).val("")})).on("blur",".admEmailTo:visible",(function(){$(this).val()!=admissionsFunctionality.sendEmailInputDefaultValue&&$(this).val()!=admissionsFunctionality.sendEmailInputErrorMsg&&""!=$(this).val()&&$(this).val()!=admissionsFunctionality.sendEmailSuccessMsg||$(this).val(admissionsFunctionality.sendEmailInputDefaultValue)})).on("click",".aef-sendButton",(function(){admissionsFunctionality.validateEmail($(this).prev().val())?admissionsFunctionality.sendEmailForm($(this).prev().val()):admissionsFunctionality.showEmailErrorMsg($(this))})).on("keypress",".admEmailTo",(s=>{13==s.which&&$(".adm-async-form-two .aef-sendButton").trigger("click")})),$("body").on("click",(()=>{$(".adm-input").hasClass("opened")&&($(".adm-input").removeClass("opened"),$(".adm-input").find(".input-options").slideUp("fast"))})),$(".adm-input-btn-wrapper").on("click",(s=>{s.stopPropagation()}))},hideResultsFromBase:function(){const s=$("html, body");s.removeClass("blockScrollOnMobile"),s.scrollTop(admissionsFunctionality.scrolled),$(".adm-async-form-two .adm-results-slide-out").transit({right:""},500,(()=>{$(".adm-async-form-two").fadeOut("fast")}))},showResultsFromBase:function(){this.scrolled=$(document).scrollTop(),$(".adm-async-form-two").fadeIn("fast",(()=>{admissionsFunctionality.prepareDataInAccordion(),$(".adm-async-form-two .adm-results-slide-out").transit({right:0},500,(()=>{$("html, body").addClass("blockScrollOnMobile")}))}))},showStudentOptions:function(s){$(".adm-async-form-two .adm-results-slide-out .adm-results-container").css("visibility","visible"),$(".adm-async-form-two .adm-results-slide-out .adm-results-title").empty().html("Good News!"),$(".adm-results-headers").empty(),$(".adm-mobile-dd-area").empty(),$(".adm-result-panel").remove(),$(".adm-mobile-dropddown-native select").empty();const a=["January","February","March","April","May","June","July","August","September","October","November","December"];window.location.href;function addData(s){let t="";for(let a=0;a<s.steps.length;a++)t+=`<li class='adm-step'><h3 class='adm-step-title'>${s.steps[a].Title}</h3><div class='adm-step-text'><div class='secondLvlCss'>${s.steps[a].Description}</div></div></li>`;return`<div class='adm-result-panel'><div class='adm-result-entry'>${s.Title}</div><div class='adm-result-entry-date'>Your child would join us in <span>${a[s.startDate.getMonth()]}  ${s.startDate.getFullYear()}</span></div><ol class='adm-steps-list'>${t}</ol><div class='adm-results-btns clearfix'><a href='/' class='adm-print-btn'><span>Print Steps</span></a><a href='javascript:admissionsFunctionality.showEmailWindow(${s.ID},"${s.Title}","${a[s.startDate.getMonth()]}  ${s.startDate.getFullYear()}")' class='adm-email-btn'><span>Email Steps</span></a></div><div class='sendAdmEmailToDivider'></div><div class='sendAdmEmailTo'><p class='sendAdmEmailToInstructions'>If you would like to receive a copy of this information, please enter your email below.</p><label for='sendAdmEmailInput'>Enter your email address:</label><div class='sendAdmEmailToInputWrapper-errorHolder'></div><div class='sendAdmEmailToInputWrapper'><input tabindex='2' class='admEmailTo' placeholder='e.g. adamsmith@email.com' id='sendAdmEmailInput'/><button onclick='admissionsFunctionality.showEmailWindow(${s.ID},"${s.Title}","${a[s.startDate.getMonth()]}  ${s.startDate.getFullYear()}")' class='aef-sendButton'>Go</button></div></div></div>`}for(let a=0;a<s.length;a++)$(".adm-results-container").append(addData(s[a]));$(".adm-async-form-two .adm-results-slide-out .adm-results-details").empty().html(`Your child could join us from <strong>${$(".adm-result-panel").eq(0).find(".adm-result-entry-date span").html()}</strong> at the earliest. Based on their age, they'd be starting in <strong>${$(".adm-result-entry").eq(0).html()}</strong>`);for(let s=0;s<$(".adm-async-form-two .adm-result-panel").length;s++){$(".adm-async-form-two .adm-result-panel").eq(s).find(".adm-result-entry").clone().appendTo($(".adm-results-headers")),$(".adm-async-form-two .adm-result-panel").eq(s).find(".adm-result-entry").clone().appendTo($(".adm-mobile-dd-area"));const a=$(".adm-async-form-two .adm-result-panel").eq(s).find(".adm-result-entry").html();$(".adm-mobile-dropddown-native select").append(`<option value=${s}>${a}</option>`)}$(".adm-results-headers").find("> div:first").addClass("active"),$(".adm-async-form-two .adm-result-panel").eq(0).addClass("showFirst"),1==$(".adm-results-headers .adm-result-entry").length?$(".adm-async-form-two .adm-results-slide-out .adm-results-container").addClass("only-one-element"):$(".adm-async-form-two .adm-results-slide-out .adm-results-container").removeClass("only-one-element"),$(".adm-mobile-dropddown").off().on("click",(function(){$(this).hasClass("opened")?($(this).removeClass("opened"),$(".adm-mobile-dd-area").slideUp("fast")):($(this).addClass("opened"),$(".adm-mobile-dd-area").slideDown("fast"))})),$("html.touch .adm-results-headers").addClass("changeBgLeft"),$(".adm-results-headers").find("> div").off().on("click",(function(){$(this).addClass("active").siblings().removeClass("active"),0===$(this).index()?$(this).parent().addClass("changeBgLeft").removeClass("changeBgRight"):$(this).index()===$(".adm-results-headers > div").length-1?$(this).parent().addClass("changeBgRight").removeClass("changeBgLeft"):$(this).parent().removeClass("changeBgLeft").removeClass("changeBgRight"),$(".adm-mobile-dd-area").find("> div").eq($(this).index()).addClass("active").siblings().removeClass("active"),$(".adm-async-form-two .adm-result-panel").hide(),$(".adm-async-form-two .adm-result-panel").eq($(this).index()).fadeIn("fast"),$(".adm-email-window").hide()})),$(".adm-mobile-dd-area").find("> div").off().on("click",(function(){$(this).addClass("active").siblings().removeClass("active"),$(".adm-results-headers").find("> div").eq($(this).index()).addClass("active").siblings().removeClass("active"),$(".adm-async-form-two .adm-result-panel").hide(),$(".adm-async-form-two .adm-result-panel").eq($(this).index()).fadeIn("fast")})),$(".adm-mobile-dropddown-native select").off().on("change",(function(){$(".adm-results-headers").find("> div").eq(this.value).addClass("active").siblings().removeClass("active"),$(".adm-async-form-two .adm-result-panel").hide(),$(".adm-async-form-two .adm-result-panel").eq(this.value).fadeIn("fast")})),$(".adm-print-btn").on("click",(s=>{s.preventDefault(),window.print()}))},prepareDataInAccordion:function(){let s=[];const a=new Date,t=a.getFullYear(),e=new Date(t,8,1),i=new Date(this.year,this.month-1,this.day);let n=e;function showError(){const s=admissionsFunctionality.allResults.NoResult.Title,a=admissionsFunctionality.allResults.NoResult.Description;$(".adm-async-form-two .adm-results-slide-out .adm-results-title").empty().html(s),$(".adm-async-form-two .adm-results-slide-out .adm-results-details").empty().html(a),$(".adm-async-form-two .adm-results-slide-out .adm-results-container").css("visibility","hidden"),$(".adm-async-form-two .adm-results-slide-out .adm-results-container").css("display","none")}n<a&&(n=new Date(t+1,e.getMonth(),e.getDay())),admissionsFunctionality.year>t?showError():(s=admissionsFunctionality.allResults.EntryPoints.filter((s=>{const a=new Date(n.getFullYear(),s.StudentAgeByMonthMax-1,s.StudentAgeByDayMax),t=moment(a).diff(i,"year",!0);if(t>=0&&t<s.StudentAgeMax){let a=n,t=new Date(a.getFullYear(),s.StudentAgeByMonth-1,s.StudentAgeByDay),e=moment(t).diff(i,"year",!0);for(;e<s.StudentAge;)a=new Date(a.getFullYear()+1,a.getMonth(),a.getDay()),t=new Date(a.getFullYear(),s.StudentAgeByMonth-1,s.StudentAgeByDay),e=moment(t).diff(i,"year",!0);return s.startDate=a,s}})),gsap.set("html,body",{overflow:"hidden"})),s.length?admissionsFunctionality.showStudentOptions(s):showError()},validateDay:function(){const s=parseInt(admissionsFunctionality.day),a=parseInt(admissionsFunctionality.month),t=parseInt(admissionsFunctionality.year);let e=!1;if(isNaN(s)&&(e=!0),s>31||s<1)e=!0;else if(4!=a&&6!=a&&9!=a&&11!=a||31!=s){if(2==a){const a=t%4==0&&(t%100!=0||t%400==0);(s>29||29==s&&!a)&&(e=!0)}}else e=!0;return e?($(".adm-input.adm-input-days").addClass("error").find("> span").html("DD"),$(".mobile-select.select-days").addClass("error")):($(".adm-input.adm-input-days").removeClass("error"),$(".mobile-select.select-days").removeClass("error")),e?{error:1,msg:"check date"}:{error:0,msg:"ok"}},validateMonth:function(){const s=parseInt(admissionsFunctionality.month);let a=!1;return isNaN(s)&&(a=!0),(s>12||s<1)&&(a=!0),a?($(".adm-input.adm-input-months").addClass("error").find("> span").html("MM"),$(".mobile-select.select-months").addClass("error")):($(".adm-input.adm-input-months").removeClass("error"),$(".mobile-select.select-months").removeClass("error")),a?{error:1,msg:"check month"}:{error:0,msg:"ok"}},validateYear:function(){const s=parseInt(admissionsFunctionality.year);let a=!1;const t=(new Date).getFullYear();return isNaN(s)&&(a=!0),(s<t-17||s>t)&&(a=!0),a?($(".adm-input.adm-input-yy").addClass("error").find("> span").html("YYYY"),$(".mobile-select.select-year").addClass("error"),$(".admissions-functionality-wrapper .adm-form-one .admissions-func-intro").addClass("error").html("Oh, dear, please check your date of birth!")):($(".adm-input.adm-input-yy").removeClass("error"),$(".mobile-select.select-year").removeClass("error"),$(".admissions-functionality-wrapper .adm-form-one .admissions-func-intro").removeClass("error").html("What is your child's date of birth ?")),a?{error:1,msg:"check year"}:{error:0,msg:"ok"}},validateInputs:function(){const s=(new Date).getFullYear(),a=parseInt(admissionsFunctionality.day),t=parseInt(admissionsFunctionality.month),e=parseInt(admissionsFunctionality.year);let i=!1,n=!1,o=!1;const d="Oh, dear, please check your date of birth!";if(isNaN(a)&&(i=!0),a>31||a<1)i=!0;else if(4!=t&&6!=t&&9!=t&&11!=t||31!=a){if(2==t){const s=e%4==0&&(e%100!=0||e%400==0);(a>29||29==a&&!s)&&(i=!0)}}else i=!0;return isNaN(t)&&(n=!0),(t>12||t<1)&&(n=!0),isNaN(e)&&(o=!0),(e<s-17||e>s)&&(o=!0),i?($(".admissions-functionality-wrapper .adm-form-one .admissions-func-intro").addClass("error").html(d),$(".adm-input.adm-input-days").addClass("error").find("> span").html("DD"),$(".mobile-select.select-days").addClass("error")):($(".adm-input.adm-input-days").removeClass("error"),$(".mobile-select.select-days").removeClass("error")),n?($(".admissions-functionality-wrapper .adm-form-one .admissions-func-intro").addClass("error").html(d),$(".adm-input.adm-input-months").addClass("error").find("> span").html("MM"),$(".mobile-select.select-months").addClass("error")):($(".adm-input.adm-input-months").removeClass("error"),$(".mobile-select.select-months").removeClass("error")),o?($(".admissions-functionality-wrapper .adm-form-one .admissions-func-intro").addClass("error").html(d),$(".adm-input.adm-input-yy").addClass("error").find("> span").html("YYYY"),$(".mobile-select.select-year").addClass("error")):($(".adm-input.adm-input-yy").removeClass("error"),$(".mobile-select.select-year").removeClass("error")),i?{error:1,msg:"check date"}:n?{error:1,msg:"check month"}:o?{error:1,msg:"check year"}:void(i||n||o||($(".adm-input").removeClass("error"),admissionsFunctionality.showResultsFromBase(),$(".admissions-functionality-wrapper .adm-form-one .admissions-func-intro").removeClass("error").html("What is your child's date of birth ?")))},showEmailWindow:function(s,a,t){$("#admEmailEntryID").val(s),$("#admEmailEntryTitle").val(a),$("#admEmailEntryDate").val(t)},validateEmail:function(s){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(s)},showEmailErrorMsg:function(s){s.parent().removeClass("success").addClass("error"),s.prev().val(admissionsFunctionality.sendEmailInputErrorMsg),s.html("!")},showEmailSuccessMsg:function(s){s.parent().removeClass("error").addClass("success"),s.prev().val(admissionsFunctionality.sendEmailSuccessMsg),s.html("GO")},sendEmailForm:function(s){const a=$("#admEmailEntryID").val(),t=$("#admEmailEntryTitle").val(),e=$("#admEmailEntryDate").val(),i=$(".adm-step-title").css("color");$.post("/sendadmissionsstepsemail",{entryid:a,emailSubject:"Admissions Steps",title:t,titleColor:i,entrydate:e,txtEmailAddress:s},(s=>{switch(s){case"ok":admissionsFunctionality.showEmailSuccessMsg($(".aef-sendButton:visible"));break;case"error":case"invalid":admissionsFunctionality.showEmailErrorMsg($(".aef-sendButton:visible"))}}))}};
const fixContentEditable={init:function(){$(".secondLvlCss").each((function(){$(this).removeAttr("contenteditable")})),$(".contentTemplates-img").each((function(){$(this).removeAttr("contenteditable")})),fixContentEditable.itemContentSpace()},itemContentSpace:()=>{const e=$(".full-width-layout .container .content .content-wrap:first-child"),t=$(".full-width-layout .container .content .content-wrap:first-child").text().length,n=$(".full-width-layout .container .content .content-wrap:last-child"),s=$(".full-width-layout .container .content .content-wrap:last-child").text().length;t<=0&&e.addClass("js_no-space"),s<=0&&n.addClass("js_no-space")}},removeEmptySlWrapper=()=>{const e=document.querySelectorAll(".content-wrap");for(let t=0;t<e.length;t++){const n=e[t],s=n.querySelector(".secondLvlCss");s&&0===s.children.length&&!s.innerHTML.trim()&&(s.parentNode.removeChild(s),n.parentNode.removeChild(n))}},blockquoteFader2={opts:function(e){return{dots:!0,fade:!0,infinite:!1,adaptiveHeight:!0,nextArrow:cpCustomElements.next(e),prevArrow:cpCustomElements.prev(e),appendArrows:e.find(".controller-js"),appendDots:e.find(".bf-dots")}},init:function(){const e=this,t=$(".blockquote-fader");t.length&&t.each((function(){const t=$(this),n=e.opts(t);$(this).find(".bf-inner").slick(n)}))}},imagesFader={opts:function(e){return{dots:!0,fade:!0,infinite:!0,adaptiveHeight:!0,nextArrow:cpCustomElements.next(e),prevArrow:cpCustomElements.prev(e),appendDots:e.find(".bf-dots"),appendArrows:e.find(".controller-js"),customPaging:function(e,t){return cpCustomElements.dots()}}},init:function(){const e=this,t=$(".images-fader-cms");t.length&&t.each((function(){const t=$(this),n=e.opts(t);$(this).find(".fader-inner").slick(n)}))}},fixRenderedHtml=()=>{const e=document.querySelectorAll(".secondLvlCss"),t=document.querySelectorAll(".contentTemplates-img"),n=document.querySelectorAll(".content-wrap .secondLvlCss"),s=document.querySelectorAll(".content-wrap"),o=document.querySelectorAll(".ckEditorLayout");null!==e&&document.querySelectorAll(".secondLvlCss").forEach((e=>{e.removeAttribute("contenteditable")})),null!==t&&t.forEach((e=>{e.removeAttribute("contenteditable")})),null!==n&&n.forEach((e=>{""===e.innerHTML.trim()&&e.parentNode.removeChild(e)})),null!==s&&s.forEach((e=>{""===e.innerHTML.trim()&&e.parentNode.removeChild(e)})),null!==o&&o.forEach((e=>{null!==e.querySelector(".admissions-functionality-wrapper")&&e.classList.add("has-admission")}))},statsTitles={init:function(){$(".stat-card").each((function(){const e=$(this),t=e.find(".stat-head").text().length;e[0].style.setProperty("--titleLength",t)}))}},customCPElements={quotes:()=>{$(".content-wrap > .secondLvlCss > blockquote").length&&$(".content-wrap > .secondLvlCss > blockquote").wrap('<div class="blockquote-container"></div>')},featuredParagraph:()=>{$(".featured-paragraph").length||$("body").addClass("no-featured-para"),$(".featuredParagraph").length&&$(".featuredParagraph").wrap('<div class="featuredParagraph-container"></div>')},carousels:()=>{const e=$(".portals-carousel, .promos-carousel");e.length&&e.each((function(){const e=$(this);if(e.data("resizer-bound"))return;e.data("resizer-bound",!0);const check=()=>{setTimeout((()=>{const t=e.find(".crsl-inner");t.length&&t.hasClass("slick-no-slide")?e.addClass("no-carousel"):e.removeClass("no-carousel")}),100)};resizer(check),check()}))},CTsWithTextIconImages:()=>{$(".ckEditorLayout-icons-text-images-widget").each(((e,t)=>{const n=$(t),s=n.find(".module-fader-text"),o=n.find(".module-fader--images-with-icons"),a=Math.max(s.length,o.length);for(let e=0;e<a;e++){const t=s.eq(e),n=o.eq(e);if(n.length){const e=n.closest(".contentTemplates-column");0===e.find("> .contentTemplates-nav").length&&e.append('\n          <div class="contentTemplates-nav">\n            <button class="crsl-ctrl swiper-button-next" type="button" aria-label="Next">\n              <span class=\'g-icon g-icon-arrow-right\'></span>\n            </button>\n            <button class="crsl-ctrl swiper-button-prev" type="button" aria-label="Previous">\n              <span class=\'g-icon g-icon-arrow-left\'></span>\n            </button>\n          </div>\n        ')}const a=n.closest(".contentTemplates-column"),i=a.length?{nextEl:a.find("> .contentTemplates-nav .swiper-button-next")[0],prevEl:a.find("> .contentTemplates-nav .swiper-button-prev")[0]}:{},r=t.closest(".contentTemplates-column"),l=r.length?r.find(".cp-dots"):"";let c=null;if(t.length&&!t.data("swiper-initialized")){const e=t.find(".module-fader-text__inner.swiper-wrapper");e.length&&e.children(".swiper-slide").length>=2&&(t.addClass("swiper"),c=new Swiper(t[0],{wrapperClass:"module-fader-text__inner",slideClass:"swiper-slide",effect:t.data("effect")||"fade",fadeEffect:{crossFade:!0},speed:parseInt(t.data("speed"),10)||500,loop:!1!==t.data("loop"),autoHeight:!1,pagination:l.length?{el:l[0],clickable:!0}:void 0,a11y:{enabled:!0}}),t.data("swiper-initialized",!0).data("swiper-instance",c))}else t.length&&(c=t.data("swiper-instance")||t[0].swiper||null);let d=null;if(n.length&&!n.data("swiper-initialized")){const e=n.find(".module-fader__inner.swiper-wrapper");e.length&&e.children(".swiper-slide").length>=2&&(n.addClass("swiper"),d=new Swiper(n[0],{wrapperClass:"module-fader__inner",slideClass:"swiper-slide",effect:n.data("effect")||"fade",fadeEffect:{crossFade:!0},speed:parseInt(n.data("speed"),10)||500,loop:!1!==n.data("loop"),watchSlidesProgress:!0,navigation:i.nextEl&&i.prevEl?i:void 0,a11y:{enabled:!0}}),n.data("swiper-initialized",!0).data("swiper-instance",d))}else n.length&&(d=n.data("swiper-instance")||n[0].swiper||null);if(c&&d){c.controller.control=d,d.controller&&(d.controller.control=c);const e=c.realIndex;d.realIndex!==e&&(d.params.loop?d.slideToLoop(e,0):d.slideTo(e,0))}}}))},CTsWithFAQsImages:()=>{$(".ckEditorLayout-images-faqs-widget").each(((e,t)=>{const n=$(t),s=n.find(".module-fader--images-faqs");for(let e=0;e<n.length;e++){const t=s.eq(e);if(t.length){const e=t.closest(".contentTemplates-column");0===e.find("> .contentTemplates-nav").length&&e.append('\n          <div class="contentTemplates-nav">\n            <button class="crsl-ctrl swiper-button-next" type="button" aria-label="Next">\n              <span class=\'g-icon g-icon-arrow-right\'></span>\n              <svg class="progress-ring" width="50" height="50">\n                <circle class="progress-ring__circle" stroke="black" stroke-width="4" fill="transparent" r="23" cx="25" cy="25"/>\n              </svg>\n            </button>\n            <button class="crsl-ctrl swiper-button-prev" type="button" aria-label="Previous">\n              <span class=\'g-icon g-icon-arrow-left\'></span>\n            </button>\n          </div>\n        ')}const o=t.closest(".contentTemplates-column"),a=o.length?{nextEl:o.find("> .contentTemplates-nav .swiper-button-next")[0],prevEl:o.find("> .contentTemplates-nav .swiper-button-prev")[0]}:{};let i=null;if(t.length&&!t.data("swiper-initialized")){const e=t.find(".module-fader__inner.swiper-wrapper");if(e.length&&e.children(".swiper-slide").length>=2){t.addClass("swiper"),i=new Swiper(t[0],{wrapperClass:"module-fader__inner",slideClass:"swiper-slide",effect:t.data("effect")||"fade",fadeEffect:{crossFade:!0},speed:parseInt(t.data("speed"),10)||500,loop:!1!==t.data("loop"),watchSlidesProgress:!0,navigation:a.nextEl&&a.prevEl?a:void 0,a11y:{enabled:!0}}),t.data("swiper-initialized",!0).data("swiper-instance",i);const e=t.attr("data-duration"),s=o.find(".progress-ring__circle"),r=23,l=2*Math.PI*r;let c,d,u=0;const setProgress=e=>{const t=l-e/100*l;s.css("stroke-dashoffset",t)},resetTimer=()=>{cancelAnimationFrame(d),setProgress(0),u=0},startTimer=(t=!1)=>{cancelAnimationFrame(d),t||(u=0),c=null,d=requestAnimationFrame((function animate(t){c||(c=t-u);const n=t-c,s=Math.min(n/e*100,100);setProgress(s),s<100?d=requestAnimationFrame(animate):(i.slideNext(),resetTimer(),startTimer())}))};i.on("slideChange",(()=>{resetTimer(),startTimer()})),i.on("touchStart",(()=>cancelAnimationFrame(d))),i.on("touchEnd",(()=>startTimer()));const p=o.find(".crsl-ctrl");let m=!1,f=!1;p.on("mouseenter",(()=>{m=!0,cancelAnimationFrame(d),c&&(u=performance.now()-c)})),p.on("mouseleave",(()=>{f||startTimer(!0),m=!1,f=!1})),p.on("click",(()=>{resetTimer(),startTimer(),m&&(f=!0)})),startTimer();const h=n.find(".accordion-container-js"),g=new MutationObserver((e=>{e.forEach((e=>{if("attributes"===e.type&&"class"===e.attributeName){const t=$(e.target);if(t.hasClass("active")){const e=h.index(t);-1!==e&&(cancelAnimationFrame(d),i.slideToLoop(e,500),resetTimer(),startTimer())}}}))}));h.each(((e,t)=>{g.observe(t,{attributes:!0})}));const openAccordionByIndex=e=>{const t=h.eq(e);if(t.length){if(t.hasClass("active"))return;h.removeClass("active").find(".accordion-dropdown-js").slideUp(150);const e=t.find(".accordion-link-js"),n=t.find(".accordion-dropdown-js");t.addClass("active"),n.stop(!0,!0).slideDown(200),e.attr("aria-expanded",!0),n.attr("aria-hidden",!1)}};i.on("slideChange",(()=>{const e=i.realIndex;openAccordionByIndex(e),resetTimer(),startTimer()}))}}else t.length&&(i=t.data("swiper-instance")||t[0].swiper||null)}}))},accordions:()=>{$(document).on("click",".accordion-link-js",(function(){const e=$(this).closest(".accordion-container-js");$(".accordion-container-js.active").not(e).each((function(){const e=$(this),t=e.find(".accordion-dropdown-js");e.removeClass("active"),t.stop(!0,!0).slideUp(150)}))}))},cpFixedMenu:()=>{if($(".cp-fixed-menu").length){null===sessionStorage.getItem("fixed_menu")&&(sessionStorage.setItem("fixed_menu","false"),$(".cp-fixed-menu").addClass("opened")),"false"===sessionStorage.getItem("fixed_menu")&&$(".cp-fixed-menu").addClass("opened"),"true"===sessionStorage.getItem("fixed_menu")&&$(".cp-fixed-menu").removeClass("opened");const e=document.querySelector(".cp-fixed-menu");let t=Array.from(e.classList);const n={attributes:!0,attributeOldValue:!0};new MutationObserver((function(n,s){for(const s of n)if("attributes"===s.type&&"class"===s.attributeName){const n=Array.from(e.classList),s=t.find((e=>!n.includes(e)));s&&"opened"===s&&sessionStorage.setItem("fixed_menu","true"),t=n}})).observe(e,n),$(document).on("click",".cp-fixed-menu .open-level-js",(()=>{setTimeout((()=>{$(".cp-fixed-menu").css("max-height",`${$(".cp-fixed-menu .fm-wrapper").get(0).scrollHeight+$(".cp-fixed-menu .fm-current-page").height()+40}px`)}),250)})),$(".cp-fixed-menu").length&&$(".cp-fixed-menu .ml-list").is(":empty")&&$(".cp-fixed-menu").remove()}},timeline:function(){const e=$(".module--timeline"),t=["center","flex-start","flex-end"],n=[];if(!e.length)return;function adjustYearTextMargin(){$(window).width()<851?$(".year__text").each((function(){const e=$(this).outerHeight()+15;$(this).css("margin-top",`-${e}px`)})):$(".year__text").removeAttr("style")}e.find(".years > .year .columns").each(((e,t)=>{$(t).append('<div aria-hidden="true" class="spacer"><span aria-hidden="true"></span></div>')})),e.find(".years > .year").each(((e,s)=>{const o=$(s).find(".column > .item");o.each(((e,s)=>{const a=o.length<3?"center":(()=>{if(t.length<1)return null;let e;do{e=t[Math.floor(Math.random()*t.length)]}while(n.length&&n[n.length-1]===e);return n.push(e),e})();s.style.setProperty("--position",a)}))})),e.find(".item.has-popup").on("click",".button",(e=>{e.preventDefault(),window.matchMedia("(hover: none)").matches&&($(e.target).attr("aria-expanded","true"===$(e.target).attr("aria-expanded")?"false":"true").toggleClass("js-active"),$(e.target).closest(".item").toggleClass("js-active"),$(window).width()<851&&$(e.target).closest(".item__inner").find(".popup-wrap").slideToggle())})),$(document).ready(adjustYearTextMargin),$(window).on("resize",adjustYearTextMargin)},init:()=>{customCPElements.cpFixedMenu(),customCPElements.featuredParagraph(),customCPElements.quotes(),customCPElements.carousels(),customCPElements.CTsWithTextIconImages(),customCPElements.CTsWithFAQsImages(),customCPElements.accordions(),customCPElements.timeline()}},handleVideoSl={muted:!0,played:!0,scrolled:!1,play:function(e){e.play(),$(".video-controls .video-control").addClass("played"),$(".video-controls .video-control").attr("title","pause")},pause:function(e){e.pause(),$(".video-controls .video-control").removeClass("played"),$(".video-controls .video-control").attr("title","play")},mute:function(e){e.muted=!0,$(".video-controls .sound-control").addClass("muted"),$(".video-controls .sound-control").attr("title","unmute")},unmute:function(e){e.muted=!1,$(".video-controls .sound-control").removeClass("muted"),$(".video-controls .sound-control").attr("title","mute")},handleScroll:function(){const e=this,t=document.getElementById("content-page-hero-video");$(window).on("scroll",(function(){$(this).scrollTop()>50?(e.pause(t),e.mute(t)):e.play(t)})),$(window).resize((function(){$(this).scrollTop()>50?(e.pause(t),e.mute(t)):e.play(t)})).resize()},handleEvents:function(){const e=this,t=document.getElementById("content-page-hero-video");$(".video-controls .sound-control").on("click",(function(){if($(this).hasClass("muted"))return e.unmute(t),!1;e.mute(t)})),$(".video-controls .video-control").on("click",(function(){if($(this).hasClass("played"))return e.pause(t),!1;e.play(t)}))},init:function(){const e=this;$(".main-hero .video-hero").length&&(e.handleScroll(),e.handleEvents())}},tickerTape={init:function(){const e=$(".module--ticker-tape");if(!e.length)return;const t=e.find(".items > .item"),n=t.length;let s=!1;t.each((function(){const e=$(this),t=e.find(".link");if("/"!==t.attr("href"))return;const n=e.find(".image").attr("src").split("?command")[0];s=!0,t.attr({href:n,"data-fancybox":"gallery"})})),s&&loadjs(["https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js","https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css"],"fancybox"),e.find(".items").marquee({duplicateCount:10,duplicated:!0,gap:0,pauseOnHover:!0,speed:70-n,startVisible:!0})}};

!function(t){t(document).ready((()=>{customElements.init(),popupsFunc.init(),alertPopup.checkStartAndExpiryDates(),noticesPopup.checkStartAndExpiryDates(),popupsBehaviour.init(),noticesPopup.init(),alertPopup.init(),noticesPopup.checkPopupTriggers(),blockquoteFader2.init(),imagesFader.init(),statsTitles.init(),customCPElements.init(),fixContentEditable.init(),removeEmptySlWrapper(),tickerTape.init(),handleVideoSl.init(),hpSection5.init(),hpSection6.init(),footer.init(),window.addEventListener("pageshow",(()=>{document.querySelector("html").classList.add("js-hide-loader")}));const e=document.querySelector("body");e.classList.contains("special-header")||e.classList.contains("media-template")||(ScrollTrigger.create({trigger:"body",start:"top+=80px top",end:"bottom top-=1000%",toggleClass:{targets:"html",className:"sticky"}}),e.classList.contains("sharedTemplates")||carouselCT.init(),ScrollTrigger.create({trigger:"body",start:()=>`top+=${window.innerHeight/2} top`,end:"bottom top",toggleClass:{targets:"html",className:"sticky-alert"}})),t(".menu-levels").on("menu-opened",(()=>{ScrollTrigger.refresh(!0)})),"undefined"!=typeof admissionsFunctionality&&admissionsFunctionality.init(),fixRenderedHtml(),loadjs([],"globalFiles",(()=>{}))}))}(jQuery),window.addEventListener("load",(()=>{document.querySelector("html").classList.add("js-hide-loader")}));